# BettaFishï¼ˆå¾®èˆ†ï¼‰æ·±åº¦è°ƒç ”æŠ¥å‘Š

> è°ƒç ”æ—¥æœŸï¼š2025-12-21  
> é¡¹ç›®åœ°å€ï¼š[https://github.com/666ghj/BettaFish](https://github.com/666ghj/BettaFish)  
> ç‰ˆæœ¬ï¼šv2.1.0ï¼ˆæˆªè‡³ 2025-12-09ï¼‰  
> GitHub æ•°æ®ï¼šâ­ 33.2K Stars | ğŸ‘ 190 Watching | ğŸ´ 6.4K Forks | ğŸ‘¥ 35+ è´¡çŒ®è€…
>
> BettaFishï¼ˆå¾®èˆ†ï¼‰æ˜¯ä¸€ä¸ªè®¾è®¡ç²¾è‰¯ã€å·¥ç¨‹å®Œæ•´çš„å¼€æºå¤š Agent èˆ†æƒ…åˆ†æç³»ç»Ÿã€‚å…¶æœ€å¤§äº®ç‚¹åœ¨äºï¼š
>
> 1. **é›¶æ¡†æ¶ä¾èµ–**ï¼šå®Œå…¨è‡ªä¸»å®ç°ï¼Œä»£ç æ¸…æ™°æ˜“æ‡‚ï¼Œéå¸¸é€‚åˆå­¦ä¹  Agent ç³»ç»Ÿè®¾è®¡
> 2. **è®ºå›åä½œæœºåˆ¶**ï¼šç‹¬åˆ›çš„å¤š Agent è¾©è®ºæ¨¡å¼ï¼Œé¿å…å•æ¨¡å‹æ€ç»´å±€é™
> 3. **ç«¯åˆ°ç«¯è§£å†³æ–¹æ¡ˆ**ï¼šä»æ•°æ®é‡‡é›†ï¼ˆçˆ¬è™«ï¼‰åˆ°åˆ†æï¼ˆAgentï¼‰åˆ°è¾“å‡ºï¼ˆæŠ¥å‘Šï¼‰ï¼Œå®Œæ•´é—­ç¯
> 4. **é«˜åº¦å¯å®šåˆ¶**ï¼šæ”¯æŒè‡ªå®šä¹‰ LLMã€æƒ…æ„Ÿåˆ†ææ¨¡å‹ã€ä¸šåŠ¡æ•°æ®åº“
>
> å¯¹äºå¸Œæœ›æ·±å…¥ç†è§£å¤š Agent ç³»ç»Ÿè®¾è®¡ã€æˆ–éœ€è¦èˆ†æƒ…åˆ†æèƒ½åŠ›çš„å›¢é˜Ÿå’Œä¸ªäººï¼ŒBettaFish æ˜¯éå¸¸å€¼å¾—å­¦ä¹ å’Œå‚è€ƒçš„é¡¹ç›®ã€‚
>
> **é¡¹ç›®è®¸å¯è¯**ï¼šGPL-2.0

---

## ğŸ“‹ ç›®å½•

1. [äº§å“æ¦‚è¦](#1-äº§å“æ¦‚è¦)
2. [ç³»ç»Ÿæ¶æ„](#2-ç³»ç»Ÿæ¶æ„)
3. [å·¥ç¨‹ä»‹ç»](#3-å·¥ç¨‹ä»‹ç»)
4. [ä½¿ç”¨æŒ‡å¼•](#4-ä½¿ç”¨æŒ‡å¼•)
5. [æŠ€æœ¯äº®ç‚¹](#5-æŠ€æœ¯äº®ç‚¹)
6. [é¡¹ç›®å¿ƒå¾—ä¸å¯ç¤º](#6-é¡¹ç›®å¿ƒå¾—ä¸å¯ç¤º)
7. [ä¸åŒç±»äº§å“å¯¹æ¯”](#7-ä¸åŒç±»äº§å“å¯¹æ¯”)
8. [å‚è€ƒèµ„æ–™](#8-å‚è€ƒèµ„æ–™)

---

## 1. äº§å“æ¦‚è¦

### 1.1 é¡¹ç›®å®šä½

**å¾®èˆ†ï¼ˆBettaFishï¼‰** æ˜¯ä¸€ä¸ªä»é›¶å®ç°çš„åˆ›æ–°å‹**å¤šæ™ºèƒ½ä½“ï¼ˆMulti-Agentï¼‰èˆ†æƒ…åˆ†æç³»ç»Ÿ**ã€‚é¡¹ç›®å‘½åå¯“æ„æ·±åˆ»ï¼šã€Œå¾®èˆ†ã€è°éŸ³ã€Œå¾®é±¼ã€ï¼ŒBettaFishï¼ˆæ–—é±¼ï¼‰æ˜¯ä¸€ç§ä½“å‹å°ä½†éå¸¸å¥½æ–—ã€æ¼‚äº®çš„è§‚èµé±¼ï¼Œè±¡å¾ç€ã€Œ**å°è€Œå¼ºå¤§ï¼Œä¸ç•æŒ‘æˆ˜**ã€çš„ç²¾ç¥ã€‚

### 1.2 æ ¸å¿ƒä»·å€¼ä¸»å¼ 

```
è¾“å…¥è¦æ±‚ â†’ è¯¦ç»†åˆ†æ â†’ ï¼ˆæœªæ¥ï¼‰é¢„æµ‹
```

ç”¨æˆ·åªéœ€åƒèŠå¤©ä¸€æ ·æå‡ºåˆ†æéœ€æ±‚ï¼Œç³»ç»Ÿä¾¿è‡ªåŠ¨è§¦å‘å¤š Agent åä½œï¼Œå®Œæˆå¯¹**å›½å†…å¤– 30+ ä¸»æµç¤¾åª’**ä¸**æ•°ç™¾ä¸‡æ¡å¤§ä¼—è¯„è®º**çš„å…¨è‡ªåŠ¨åˆ†æã€‚

### 1.3 å…­å¤§æ ¸å¿ƒä¼˜åŠ¿

| åºå· | ä¼˜åŠ¿                      | è¯´æ˜                                                                     |
| :--: | :------------------------ | :----------------------------------------------------------------------- |
|  1   | **AI é©±åŠ¨å…¨åŸŸç›‘æ§**       | AI çˆ¬è™«é›†ç¾¤ 7Ã—24 å°æ—¶ä½œä¸šï¼Œè¦†ç›–å¾®åšã€å°çº¢ä¹¦ã€æŠ–éŸ³ã€å¿«æ‰‹ç­‰ 10+ å›½å†…å¤–ç¤¾åª’ |
|  2   | **å¤åˆåˆ†æå¼•æ“**          | 5 ç±»ä¸“ä¸š Agent + å¾®è°ƒæ¨¡å‹ + ç»Ÿè®¡æ¨¡å‹ååŒå·¥ä½œï¼Œç¡®ä¿åˆ†ææ·±åº¦ä¸å‡†åº¦         |
|  3   | **å¼ºå¤§å¤šæ¨¡æ€èƒ½åŠ›**        | æ”¯æŒçŸ­è§†é¢‘è§£æï¼ˆæŠ–éŸ³ã€å¿«æ‰‹ï¼‰ã€ç»“æ„åŒ–å¤šæ¨¡æ€ä¿¡æ¯å¡ç‰‡æå–                   |
|  4   | **Agentã€Œè®ºå›ã€åä½œæœºåˆ¶** | ç‹¬ç‰¹çš„ã€Œè®ºå›è¾©è®ºã€æ¨¡å¼ï¼Œé¿å…å•æ¨¡å‹æ€ç»´å±€é™ï¼Œå‚¬ç”Ÿé›†ä½“æ™ºèƒ½                 |
|  5   | **å…¬ç§åŸŸæ•°æ®èåˆ**        | æ”¯æŒå†…éƒ¨ä¸šåŠ¡æ•°æ®åº“æ¥å…¥ï¼Œå®ç°ã€Œå¤–éƒ¨è¶‹åŠ¿ + å†…éƒ¨æ´å¯Ÿã€èåˆåˆ†æ              |
|  6   | **è½»é‡åŒ–é«˜æ‰©å±•æ€§**        | çº¯ Python æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸€é”®éƒ¨ç½²ï¼Œæ˜“äºé›†æˆè‡ªå®šä¹‰æ¨¡å‹ä¸ä¸šåŠ¡é€»è¾‘             |

### 1.4 ç›®æ ‡æ„¿æ™¯

> **å§‹äºèˆ†æƒ…ï¼Œè€Œä¸æ­¢äºèˆ†æƒ…ã€‚**  
> å¾®èˆ†çš„ç›®æ ‡æ˜¯æˆä¸ºé©±åŠ¨ä¸€åˆ‡ä¸šåŠ¡åœºæ™¯çš„**ç®€æ´é€šç”¨æ•°æ®åˆ†æå¼•æ“**ã€‚

---

## 2. ç³»ç»Ÿæ¶æ„

### 2.1 æ•´ä½“æ¶æ„æ¦‚è§ˆ

```mermaid
flowchart TB
    subgraph UserLayer["ç”¨æˆ·å±‚"]
        UI[Flask Web UI]
        CLI[å‘½ä»¤è¡Œå·¥å…·]
    end

    subgraph AgentLayer["Agent å±‚"]
        QA["Query Agent<br/>ç²¾å‡†ä¿¡æ¯æœç´¢"]
        MA["Media Agent<br/>å¤šæ¨¡æ€å†…å®¹åˆ†æ"]
        IA["Insight Agent<br/>ç§æœ‰æ•°æ®åº“æŒ–æ˜"]
        RA["Report Agent<br/>æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆ"]
    end

    subgraph CollaborationLayer["åä½œå±‚"]
        FE[ForumEngine<br/>è®ºå›åä½œå¼•æ“]
    end

    subgraph DataLayer["æ•°æ®å±‚"]
        MS[MindSpider<br/>AI çˆ¬è™«ç³»ç»Ÿ]
        DB[(PostgreSQL/MySQL)]
        SA[æƒ…æ„Ÿåˆ†ææ¨¡å‹é›†åˆ]
    end

    UI --> QA
    UI --> MA
    UI --> IA
    CLI --> RA

    QA <--> FE
    MA <--> FE
    IA <--> FE

    FE --> RA

    QA --> MS
    MA --> MS
    IA --> DB
    IA --> SA

    RA --> |HTML/PDF/MD| Output[æŠ¥å‘Šè¾“å‡º]
```

### 2.2 æ ¸å¿ƒ Agent èŒè´£

| Agent             | èŒè´£               | æ ¸å¿ƒèƒ½åŠ›                                         |
| :---------------- | :----------------- | :----------------------------------------------- |
| **Query Agent**   | å›½å†…å¤–æ–°é—»å¹¿åº¦æœç´¢ | å…·å¤‡å›½å†…å¤–ç½‘é¡µæœç´¢èƒ½åŠ›çš„ AI ä»£ç†                 |
| **Media Agent**   | å¤šæ¨¡æ€å†…å®¹åˆ†æ     | å¤„ç†è§†é¢‘/å›¾ç‰‡ç­‰å¤šæ¨¡æ€å†…å®¹ï¼Œæ”¯æŒæŠ–éŸ³å¿«æ‰‹è§£æ      |
| **Insight Agent** | ç§æœ‰æ•°æ®åº“æŒ–æ˜     | ç§æœ‰èˆ†æƒ…æ•°æ®åº“æ·±åº¦åˆ†æï¼Œæ”¯æŒè‡ªå®šä¹‰ä¸šåŠ¡æ•°æ®åº“æ¥å…¥ |
| **Report Agent**  | æ™ºèƒ½æŠ¥å‘Šç”Ÿæˆ       | å†…ç½®æ¨¡æ¿çš„å¤šè½®æŠ¥å‘Šç”Ÿæˆï¼Œè¾“å‡º HTML/PDF/Markdown   |
| **ForumEngine**   | Agent åä½œæœºåˆ¶     | è®ºå›ä¸»æŒäººæ¨¡å‹å¼•å¯¼ Agent è¾©è®ºä¸åä½œ              |

### 2.3 ä¸€æ¬¡å®Œæ•´åˆ†ææµç¨‹

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant F as Flask ä¸»åº”ç”¨
    participant Q as Query Agent
    participant M as Media Agent
    participant I as Insight Agent
    participant FE as ForumEngine
    participant R as Report Agent

    U->>F: 1. æå‡ºæŸ¥è¯¢éœ€æ±‚

    par å¹¶è¡Œå¯åŠ¨
        F->>Q: 2. å¯åŠ¨æœç´¢
        F->>M: 2. å¯åŠ¨å¤šæ¨¡æ€åˆ†æ
        F->>I: 2. å¯åŠ¨æ•°æ®åº“æŒ–æ˜
    end

    Note over Q,I: 3. å„Agentä½¿ç”¨ä¸“å±å·¥å…·è¿›è¡Œæ¦‚è§ˆæœç´¢
    Note over Q,I: 4. åŸºäºåˆæ­¥ç»“æœåˆ¶å®šåˆ†å—ç ”ç©¶ç­–ç•¥

    loop å¾ªç¯é˜¶æ®µï¼ˆå¤šè½®ï¼‰
        Q->>FE: 5.1 å‘è¨€ä¸æ±‡æŠ¥
        M->>FE: 5.1 å‘è¨€ä¸æ±‡æŠ¥
        I->>FE: 5.1 å‘è¨€ä¸æ±‡æŠ¥
        FE->>FE: 5.2 LLMä¸»æŒäººç”Ÿæˆå¼•å¯¼
        FE-->>Q: 5.3 è®ºå›å¼•å¯¼
        FE-->>M: 5.3 è®ºå›å¼•å¯¼
        FE-->>I: 5.3 è®ºå›å¼•å¯¼
    end

    FE->>R: 6. ç»“æœæ•´åˆ
    R->>R: 7. åŠ¨æ€é€‰æ‹©æ¨¡æ¿,ç”ŸæˆIRä¸­é—´è¡¨ç¤º
    R->>R: 8. åˆ†å—è´¨é‡æ£€æµ‹,æ¸²æŸ“HTMLæŠ¥å‘Š
    R-->>U: 9. è¿”å›äº¤äº’å¼æŠ¥å‘Š
```

### 2.4 ForumEngine è®ºå›åä½œæœºåˆ¶æ·±åº¦è§£æ

ForumEngine æ˜¯ BettaFish æœ€å…·åˆ›æ–°æ€§çš„è®¾è®¡ä¹‹ä¸€ï¼Œå…¶æ ¸å¿ƒç†å¿µï¼š

> ä¸ºä¸åŒ Agent èµ‹äºˆç‹¬ç‰¹çš„å·¥å…·é›†ä¸æ€ç»´æ¨¡å¼ï¼Œå¼•å…¥**è¾©è®ºä¸»æŒäººæ¨¡å‹**ï¼Œé€šè¿‡ã€Œè®ºå›ã€æœºåˆ¶è¿›è¡Œé“¾å¼æ€ç»´ç¢°æ’ä¸è¾©è®ºï¼Œ**é¿å…å•ä¸€æ¨¡å‹çš„æ€ç»´å±€é™ä¸äº¤æµå¯¼è‡´çš„åŒè´¨åŒ–**ã€‚

**å·¥ä½œåŸç†ï¼š**

1. **æ—¥å¿—ç›‘æ§ï¼ˆ`monitor.py`ï¼‰**ï¼šå®æ—¶ç›‘æ§å„ Agent çš„å‘è¨€ä¸åˆ†ææ—¥å¿—
2. **ä¸»æŒäººå¼•å¯¼ï¼ˆ`llm_host.py`ï¼‰**ï¼šLLM æ‹…ä»»è®ºå›ä¸»æŒäººï¼Œæ±‡æ€»å„æ–¹è§‚ç‚¹å¹¶ç”Ÿæˆå¼•å¯¼æ€§é—®é¢˜
3. **äº¤æµèåˆ**ï¼šå„ Agent é€šè¿‡ `forum_reader` å·¥å…·è¯»å–å…¶ä»– Agent çš„è§‚ç‚¹ï¼Œè°ƒæ•´ç ”ç©¶æ–¹å‘

---

## 3. å·¥ç¨‹ä»‹ç»

### 3.1 ç›®å½•ç»“æ„

```
BettaFish/
â”œâ”€â”€ QueryEngine/                 # å›½å†…å¤–æ–°é—»å¹¿åº¦æœç´¢ Agent
â”‚   â”œâ”€â”€ agent.py                 # Agent ä¸»é€»è¾‘
â”‚   â”œâ”€â”€ llms/                    # LLM æ¥å£å°è£…
â”‚   â”œâ”€â”€ nodes/                   # å¤„ç†èŠ‚ç‚¹ï¼šæœç´¢ã€æ ¼å¼åŒ–ã€æ€»ç»“ç­‰
â”‚   â”œâ”€â”€ tools/                   # å›½å†…å¤–æ–°é—»æœç´¢å·¥å…·é›†
â”‚   â””â”€â”€ prompts/                 # æç¤ºè¯æ¨¡æ¿
â”‚
â”œâ”€â”€ MediaEngine/                 # å¼ºå¤§çš„å¤šæ¨¡æ€ç†è§£ Agent
â”‚   â”œâ”€â”€ agent.py                 # å¤„ç†è§†é¢‘/å›¾ç‰‡ç­‰å¤šæ¨¡æ€å†…å®¹
â”‚   â””â”€â”€ ...ï¼ˆç»“æ„åŒä¸Šï¼‰
â”‚
â”œâ”€â”€ InsightEngine/               # ç§æœ‰æ•°æ®åº“æŒ–æ˜ Agent
â”‚   â”œâ”€â”€ tools/
â”‚   â”‚   â”œâ”€â”€ keyword_optimizer.py # Qwen å…³é”®è¯ä¼˜åŒ–ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ search.py            # æ•°æ®åº“æ“ä½œå·¥å…·é›†
â”‚   â”‚   â””â”€â”€ sentiment_analyzer.py# æƒ…æ„Ÿåˆ†æé›†æˆå·¥å…·
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ ReportEngine/                # å¤šè½®æŠ¥å‘Šç”Ÿæˆ Agent
â”‚   â”œâ”€â”€ agent.py                 # æ¨¡æ¿é€‰æ‹©â†’å¸ƒå±€â†’ç¯‡å¹…â†’ç« èŠ‚â†’æ¸²æŸ“
â”‚   â”œâ”€â”€ core/                    # æ¨¡æ¿è§£æã€ç« èŠ‚å­˜å‚¨ã€æ–‡æ¡£è£…è®¢
â”‚   â”œâ”€â”€ ir/                      # æŠ¥å‘Šä¸­é—´è¡¨ç¤º(IR)å¥‘çº¦ä¸æ ¡éªŒ
â”‚   â”œâ”€â”€ graphrag/                # GraphRAG çŸ¥è¯†å›¾è°±æ„å»ºä¸æ£€ç´¢
â”‚   â”œâ”€â”€ renderers/               # HTML/PDF/Markdown æ¸²æŸ“å™¨
â”‚   â””â”€â”€ report_template/         # Markdown æ¨¡æ¿åº“
â”‚
â”œâ”€â”€ ForumEngine/                 # è®ºå›å¼•æ“ï¼šAgent åä½œæœºåˆ¶
â”‚   â”œâ”€â”€ monitor.py               # æ—¥å¿—ç›‘æ§å’Œè®ºå›ç®¡ç†æ ¸å¿ƒ
â”‚   â””â”€â”€ llm_host.py              # è®ºå›ä¸»æŒäºº LLM æ¨¡å—
â”‚
â”œâ”€â”€ MindSpider/                  # ç¤¾äº¤åª’ä½“ AI çˆ¬è™«ç³»ç»Ÿ
â”‚   â”œâ”€â”€ BroadTopicExtraction/    # è¯é¢˜æå–æ¨¡å—
â”‚   â”œâ”€â”€ DeepSentimentCrawling/   # æ·±åº¦èˆ†æƒ…çˆ¬å–æ¨¡å—
â”‚   â””â”€â”€ schema/                  # æ•°æ®åº“ç»“æ„å®šä¹‰
â”‚
â”œâ”€â”€ SentimentAnalysisModel/      # æƒ…æ„Ÿåˆ†ææ¨¡å‹é›†åˆ
â”‚   â”œâ”€â”€ WeiboSentiment_Finetuned/# å¾®è°ƒ BERT/GPT-2 æ¨¡å‹
â”‚   â”œâ”€â”€ WeiboMultilingualSentiment/# å¤šè¯­è¨€æƒ…æ„Ÿåˆ†æ
â”‚   â”œâ”€â”€ WeiboSentiment_SmallQwen/# å°å‚æ•° Qwen3 å¾®è°ƒ
â”‚   â””â”€â”€ WeiboSentiment_MachineLearning/# ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•
â”‚
â”œâ”€â”€ SingleEngineApp/             # å•ç‹¬ Agent çš„ Streamlit åº”ç”¨
â”œâ”€â”€ app.py                       # Flask ä¸»åº”ç”¨å…¥å£
â”œâ”€â”€ docker-compose.yml           # Docker å¤šæœåŠ¡ç¼–æ’é…ç½®
â””â”€â”€ requirements.txt             # Python ä¾èµ–åŒ…æ¸…å•
```

### 3.2 æŠ€æœ¯æ ˆ

| å±‚çº§         | æŠ€æœ¯é€‰å‹                                       |
| :----------- | :--------------------------------------------- |
| **ç¼–ç¨‹è¯­è¨€** | Python 3.9+ï¼ˆ98.6%ï¼‰+ Jupyter Notebookï¼ˆ1.1%ï¼‰ |
| **Web æ¡†æ¶** | Flaskï¼ˆä¸»åº”ç”¨ï¼‰+ Streamlitï¼ˆå• Agent åº”ç”¨ï¼‰    |
| **LLM æ¥å£** | OpenAI å…¼å®¹ API æ ‡å‡†ï¼ˆæ”¯æŒä»»æ„ LLM æä¾›å•†ï¼‰    |
| **çˆ¬è™«æ¡†æ¶** | Playwrightï¼ˆæµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼‰                     |
| **æ•°æ®åº“**   | PostgreSQLï¼ˆæ¨èï¼‰/ MySQL                      |
| **å¹¶å‘å¤„ç†** | AsyncIOï¼ˆå¼‚æ­¥å¹¶å‘ï¼‰                            |
| **PDF æ¸²æŸ“** | WeasyPrint                                     |
| **çŸ¥è¯†å›¾è°±** | GraphRAGï¼ˆå¯é€‰ï¼‰                               |

### 3.3 MindSpider çˆ¬è™«ç³»ç»Ÿ

MindSpider æ˜¯ä¸“ä¸ºèˆ†æƒ…åˆ†æè®¾è®¡çš„ AI çˆ¬è™«ï¼Œé‡‡ç”¨**ä¸¤æ­¥èµ°**çˆ¬å–ç­–ç•¥ï¼š

```mermaid
flowchart LR
    subgraph Step1["æ¨¡å—ä¸€ï¼šBroadTopicExtraction"]
        A[13+ç¤¾åª’å¹³å°çƒ­æœé‡‡é›†] --> B[AIè¯é¢˜æå–]
        B --> C[ç”Ÿæˆå…³é”®è¯åˆ—è¡¨]
        C --> D[ä¿å­˜æ¯æ—¥è¯é¢˜è¡¨]
    end

    subgraph Step2["æ¨¡å—äºŒï¼šDeepSentimentCrawling"]
        E[åŠ è½½å½“æ—¥å…³é”®è¯] --> F[é€‰æ‹©çˆ¬å–å¹³å°]
        F --> G[7å¤§å¹³å°æ·±åº¦çˆ¬å–]
        G --> H[å†…å®¹è§£æä¸æƒ…æ„Ÿåˆ†æ]
        H --> I[æ•°æ®æŒä¹…åŒ–å­˜å‚¨]
    end

    Step1 --> Step2
```

**æ”¯æŒçš„å¹³å°ï¼š**

|  ä»£ç   |  å¹³å°  |  ä»£ç    | å¹³å° |
| :----: | :----: | :-----: | :--: |
| `xhs`  | å°çº¢ä¹¦ |  `wb`   | å¾®åš |
|  `dy`  |  æŠ–éŸ³  | `tieba` | è´´å§ |
|  `ks`  |  å¿«æ‰‹  | `zhihu` | çŸ¥ä¹ |
| `bili` |  B ç«™  |         |      |

---

## 4. ä½¿ç”¨æŒ‡å¼•

### 4.1 Docker å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡é…ç½®
cp .env.example .env

# 2. ç¼–è¾‘ .env é…ç½® LLM API å’Œæ•°æ®åº“

# 3. å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose up -d
```

### 4.2 æºç éƒ¨ç½²

#### ç¯å¢ƒè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows / Linux / MacOS
- **Python ç‰ˆæœ¬**ï¼š3.9+
- **æ•°æ®åº“**ï¼šPostgreSQLï¼ˆæ¨èï¼‰æˆ– MySQL
- **å†…å­˜**ï¼šå»ºè®® 2GB ä»¥ä¸Š

#### å®‰è£…æ­¥éª¤

```bash
# 1. åˆ›å»ºç¯å¢ƒ
conda create -n bettafish python=3.11
conda activate bettafish

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. å®‰è£… Playwright æµè§ˆå™¨é©±åŠ¨
playwright install chromium

# 4. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶é…ç½® API Key å’Œæ•°æ®åº“

# 5. å¯åŠ¨ç³»ç»Ÿ
python app.py
```

è®¿é—® http://localhost:5000 å³å¯ä½¿ç”¨

### 4.3 å•ç‹¬ä½¿ç”¨æ¨¡å—

```bash
# QueryEngine å•ç‹¬è¿è¡Œ
streamlit run SingleEngineApp/query_engine_streamlit_app.py --server.port 8503

# MediaEngine å•ç‹¬è¿è¡Œ
streamlit run SingleEngineApp/media_engine_streamlit_app.py --server.port 8502

# InsightEngine å•ç‹¬è¿è¡Œ
streamlit run SingleEngineApp/insight_engine_streamlit_app.py --server.port 8501
```

### 4.4 å‘½ä»¤è¡ŒæŠ¥å‘Šç”Ÿæˆ

```bash
# åŸºæœ¬ä½¿ç”¨ï¼ˆè‡ªåŠ¨ä»æ–‡ä»¶åæå–ä¸»é¢˜ï¼‰
python report_engine_only.py

# æŒ‡å®šæŠ¥å‘Šä¸»é¢˜
python report_engine_only.py --query "åœŸæœ¨å·¥ç¨‹è¡Œä¸šåˆ†æ"

# æŒ‰éœ€å¼€å¯ GraphRAG
python report_engine_only.py --graphrag-enabled true --graphrag-max-queries 3
```

### 4.5 çˆ¬è™«ç³»ç»Ÿä½¿ç”¨

```bash
cd MindSpider

# é¡¹ç›®åˆå§‹åŒ–
python main.py --setup

# è¿è¡Œè¯é¢˜æå–
python main.py --broad-topic

# è¿è¡Œå®Œæ•´çˆ¬è™«æµç¨‹
python main.py --complete --date 2024-01-20

# æŒ‡å®šå¹³å°æ·±åº¦çˆ¬å–
python main.py --deep-sentiment --platforms xhs dy wb
```

### 4.6 LLM é…ç½®ç¤ºä¾‹

```yml
# .env æ–‡ä»¶

# Insight Agent
INSIGHT_ENGINE_API_KEY=your_api_key
INSIGHT_ENGINE_BASE_URL=https://api.openai.com/v1
INSIGHT_ENGINE_MODEL_NAME=gpt-4o

# Media Agent
MEDIA_ENGINE_API_KEY=your_api_key
MEDIA_ENGINE_BASE_URL=https://api.openai.com/v1
MEDIA_ENGINE_MODEL_NAME=gpt-4o

# Query Agent
QUERY_ENGINE_API_KEY=your_api_key
QUERY_ENGINE_BASE_URL=https://api.openai.com/v1
QUERY_ENGINE_MODEL_NAME=gpt-4o

# Report Agent
REPORT_ENGINE_API_KEY=your_api_key
REPORT_ENGINE_BASE_URL=https://api.openai.com/v1
REPORT_ENGINE_MODEL_NAME=gpt-4o
```

---

## 5. æŠ€æœ¯äº®ç‚¹

### 5.1 å¤šæƒ…æ„Ÿåˆ†ææ¨¡å‹é›†æˆ

BettaFish æä¾›äº†å®Œæ•´çš„æƒ…æ„Ÿåˆ†ææ¨¡å‹è°±ç³»ï¼š

| æ¨¡å‹ç±»å‹           | è·¯å¾„                                                                | ç‰¹ç‚¹                |
| :----------------- | :------------------------------------------------------------------ | :------------------ |
| **BERT ä¸­æ–‡ LoRA** | `SentimentAnalysisModel/WeiboSentiment_Finetuned/BertChinese-Lora/` | ä¸­æ–‡å¾®åšè¯­æ–™å¾®è°ƒ    |
| **GPT-2 LoRA**     | `SentimentAnalysisModel/WeiboSentiment_Finetuned/GPT2-Lora/`        | ç”Ÿæˆå¼æƒ…æ„Ÿåˆ†æ      |
| **å¤šè¯­è¨€æ¨¡å‹**     | `SentimentAnalysisModel/WeiboMultilingualSentiment/`                | æ”¯æŒå¤šè¯­è¨€          |
| **å°å‚æ•° Qwen3**   | `SentimentAnalysisModel/WeiboSentiment_SmallQwen/`                  | è½»é‡çº§éƒ¨ç½²          |
| **ä¼ ç»Ÿ ML**        | `SentimentAnalysisModel/WeiboSentiment_MachineLearning/`            | SVM/RandomForest ç­‰ |

### 5.2 æŠ¥å‘Šç”Ÿæˆ IR ä¸­é—´è¡¨ç¤º

ReportEngine é‡‡ç”¨åˆ›æ–°çš„ **IRï¼ˆIntermediate Representationï¼‰ä¸­é—´è¡¨ç¤º**æ¶æ„ï¼š

```
åŸå§‹æ•°æ® â†’ æ¨¡æ¿é€‰æ‹© â†’ å¸ƒå±€è®¾è®¡ â†’ ç¯‡å¹…è§„åˆ’ â†’ ç« èŠ‚ç”Ÿæˆ â†’ IR JSON â†’ æ¸²æŸ“è¾“å‡º
```

**ä¼˜åŠ¿ï¼š**

- ç»Ÿä¸€çš„ä¸­é—´è¡¨ç¤ºå±‚ï¼Œæ”¯æŒå¤šç§è¾“å‡ºæ ¼å¼ï¼ˆHTML/PDF/Markdownï¼‰
- åˆ†å—è´¨é‡æ£€æµ‹æœºåˆ¶
- æ”¯æŒ GraphRAG çŸ¥è¯†å›¾è°±å¢å¼º

### 5.3 è‡ªå®šä¹‰ä¸šåŠ¡æ•°æ®åº“æ¥å…¥

```python
# InsightEngine/tools/custom_db_tool.py
class CustomBusinessDBTool:
    """è‡ªå®šä¹‰ä¸šåŠ¡æ•°æ®åº“æŸ¥è¯¢å·¥å…·"""

    def search_business_data(self, query: str, table: str):
        """æŸ¥è¯¢ä¸šåŠ¡æ•°æ®"""
        pass

    def get_customer_feedback(self, product_id: str):
        """è·å–å®¢æˆ·åé¦ˆæ•°æ®"""
        pass
```

è¿™ä¸€è®¾è®¡ä½¿ BettaFish èƒ½å¤Ÿå®ç°**å…¬åŸŸèˆ†æƒ… + ç§åŸŸä¸šåŠ¡æ•°æ®**çš„èåˆåˆ†æã€‚

---

## 6. é¡¹ç›®å¿ƒå¾—ä¸å¯ç¤º

### 6.1 æ¶æ„è®¾è®¡å¯ç¤º

| è®¾è®¡åŸåˆ™       | BettaFish å®è·µ                                                          | å¯ç¤º                                    |
| :------------- | :---------------------------------------------------------------------- | :-------------------------------------- |
| **æ¨¡å—åŒ–**     | æ¯ä¸ª Agent ç‹¬ç«‹æˆåŒ…ï¼Œæœ‰è‡ªå·±çš„ `agent.py`ã€`llms/`ã€`tools/`ã€`prompts/` | ä¾¿äºå•ç‹¬å¼€å‘ã€æµ‹è¯•ã€éƒ¨ç½²                |
| **åä½œæœºåˆ¶**   | ForumEngine è®ºå›è¾©è®ºæ¨¡å¼                                                | å¤š Agent ä¸æ˜¯ç®€å•å¹¶è¡Œï¼Œè€Œæ˜¯æœ‰ç»“æ„çš„åä½œ |
| **å¯é…ç½®æ€§**   | ç»Ÿä¸€ `.env` ç¯å¢ƒå˜é‡ç®¡ç†                                                | é™ä½éƒ¨ç½²å¤æ‚åº¦                          |
| **é›¶æ¡†æ¶ä¾èµ–** | ä¸ä¾èµ– LangChain/AutoGen ç­‰æ¡†æ¶                                         | å®Œå…¨æŒæ§ä»£ç ï¼Œé€‚åˆå­¦ä¹                   |

### 6.2 å€¼å¾—å€Ÿé‰´çš„å®ç°

1. **è®ºå›åä½œæœºåˆ¶ï¼ˆForumEngineï¼‰**ï¼šé€šè¿‡å¼•å…¥ã€Œä¸»æŒäººã€è§’è‰²å¼•å¯¼å¤š Agent è¾©è®ºï¼Œé¿å…åŒè´¨åŒ–æ€ç»´

2. **IR ä¸­é—´è¡¨ç¤º**ï¼šæŠ¥å‘Šç”Ÿæˆé‡‡ç”¨ IR å±‚è®¾è®¡ï¼Œè§£è€¦æ•°æ®å¤„ç†ä¸æ¸²æŸ“

3. **å¤šæ¨¡å‹æƒ…æ„Ÿåˆ†æ**ï¼šæä¾›ä»ä¼ ç»Ÿ ML åˆ°å¾®è°ƒ LLM çš„å®Œæ•´è°±ç³»ï¼Œé€‚åº”ä¸åŒåœºæ™¯

4. **ä¸¤æ­¥èµ°çˆ¬è™«ç­–ç•¥**ï¼šå…ˆå¹¿åº¦è¯é¢˜æå–ï¼Œå†æ·±åº¦å®šå‘çˆ¬å–ï¼Œæé«˜æ•°æ®è´¨é‡

### 6.3 æ½œåœ¨æ”¹è¿›æ–¹å‘

1. **èˆ†æƒ…é¢„æµ‹**ï¼šé¡¹ç›®ä½œè€…å·²è§„åˆ’ä½¿ç”¨æ—¶åºæ¨¡å‹ã€å›¾ç¥ç»ç½‘ç»œè¿›è¡Œè¶‹åŠ¿é¢„æµ‹

2. **å®æ—¶ç›‘æ§**ï¼šç›®å‰æ˜¯æŸ¥è¯¢é©±åŠ¨ï¼Œå¯æ‰©å±•ä¸ºå®æ—¶é¢„è­¦ç³»ç»Ÿ

3. **å¯è§†åŒ–å¢å¼º**ï¼šå½“å‰è¾“å‡ºä¸º HTML æŠ¥å‘Šï¼Œå¯å¢åŠ äº¤äº’å¼å›¾è¡¨

### 6.4 é€‚ç”¨åœºæ™¯

- **å“ç‰Œå£°èª‰ç›‘æµ‹**ï¼šä¼ä¸šèˆ†æƒ…åˆ†æ
- **å…¬å…±äº‹ä»¶è¿½è¸ª**ï¼šçƒ­ç‚¹äº‹ä»¶æ¼”è¿›åˆ†æ
- **ç«å“åˆ†æ**ï¼šè¡Œä¸šèˆ†æƒ…å¯¹æ¯”
- **å­¦æœ¯ç ”ç©¶**ï¼šç¤¾äº¤åª’ä½“æ•°æ®åˆ†æ

---

## 7. ä¸åŒç±»äº§å“å¯¹æ¯”

| ç‰¹æ€§          | BettaFish | Manus | ChatGPT | Perplexity |
| :------------ | :-------: | :---: | :-----: | :--------: |
| å¤š Agent åä½œ |    âœ…     |  âŒ   |   âŒ    |     âŒ     |
| èˆ†æƒ…ä¸“å±è®­ç»ƒ  |    âœ…     |  âŒ   |   âŒ    |     âŒ     |
| ç¤¾åª’æ·±åº¦çˆ¬å–  |    âœ…     |  âŒ   |   âŒ    |    æœ‰é™    |
| å¤šæ¨¡æ€åˆ†æ    |    âœ…     |  âŒ   |   âœ…    |     âœ…     |
| ç§åŸŸæ•°æ®èåˆ  |    âœ…     |  âŒ   |   âŒ    |     âŒ     |
| æŠ¥å‘Šè‡ªåŠ¨ç”Ÿæˆ  |    âœ…     |  âŒ   |   âŒ    |     âŒ     |
| å¼€æºå¯æ§      |    âœ…     |  âŒ   |   âŒ    |     âŒ     |

> å‚è€ƒï¼š[å¼€æºé¡¹ç›®(å¾®èˆ†)ä¸ manus|minimax|ChatGPT|Perplexity å¯¹æ¯”](https://linux.do/t/topic/1148040)

---

## 8. å‚è€ƒèµ„æ–™

### 8.1 å®˜æ–¹èµ„æº

- **GitHub ä»“åº“**ï¼š[666ghj/BettaFish](https://github.com/666ghj/BettaFish)
- **è´¡çŒ®æŒ‡å—**ï¼š[CONTRIBUTING.md](https://github.com/666ghj/BettaFish/blob/main/CONTRIBUTING.md)
- **çˆ¬è™«æ–‡æ¡£**ï¼š[MindSpider/README.md](https://github.com/666ghj/BettaFish/blob/main/MindSpider/README.md)
- **FAQ**ï¼š[Issues #185](https://github.com/666ghj/BettaFish/issues/185)

### 8.2 ç¤ºä¾‹æŠ¥å‘Š

- [æ­¦æ±‰å¤§å­¦å“ç‰Œå£°èª‰æ·±åº¦åˆ†ææŠ¥å‘Š](https://github.com/666ghj/BettaFish/blob/main/final_reports/final_report__20250827_131630.html)
- [è§†é¢‘æ¼”ç¤º](https://www.bilibili.com/video/BV1TH1WBxEWN/)

### 8.3 ç¤¾åŒºè®¨è®º

- [L ç«™é¡¹ç›®è®¨è®ºå¸–](https://linux.do/t/topic/1009280)
- [äº§å“å¯¹æ¯”è¯„æµ‹](https://linux.do/t/topic/1148040)

### 8.4 è”ç³»æ–¹å¼

- **é‚®ç®±**ï¼šhangjiang@bupt.edu.cn
- **QQ ç¾¤**ï¼šè§é¡¹ç›® README äºŒç»´ç 
