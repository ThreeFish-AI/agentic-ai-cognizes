---
id: vector-databases
sidebar_position: 5
title: å‘é‡æ•°æ®åº“æ·±åº¦è°ƒç ”
last_update:
  author: Aurelius Huang
  created_at: 2025-12-23
  updated_at: 2026-01-01
  version: 1.2
  status: Pending Review
tags:
  - Vector Databases
  - PGVector
  - VectorChord
  - Milvus
  - Weaviate
  - Pinecone
  - Qdrant
---

> [!IMPORTANT]
>
> åœ¨å‰ç½®è°ƒç ”ä¸­ï¼Œæˆ‘ä»¬å·²ç»å¯¹ä¸»æµ **ANN å‘é‡ç´¢å¼•ç®—æ³•**ï¼ˆHNSW / IVF / PQ / DiskANN ç­‰ï¼‰å»ºç«‹äº†æ¯”è¾ƒå®Œæ•´çš„è®¤è¯†ï¼Œå¹¶å¯¹å¸‚åœºä¸Šä¸»æµå‘é‡æ•°æ®åº“åšè¿‡ä¸€æ¬¡â€œä»å…¨æ™¯åˆ°åˆ†å±‚â€çš„å®è§‚æ¢³ç†ã€‚æ¥ä¸‹æ¥éœ€è¦å›ç­”çš„é—®é¢˜ï¼Œä¼šä»â€œå‘é‡æ£€ç´¢ä¸ºä»€ä¹ˆèƒ½è·‘ã€æ€ä¹ˆè·‘å¾—å¿«â€ï¼Œæ”¶æŸåˆ°â€œåœ¨æˆ‘çš„çœŸå®ä¸šåŠ¡é‡Œï¼Œé€‰å“ªä¸€ä¸ªèƒ½é•¿æœŸè·‘å¾—ç¨³ã€è¿­ä»£æˆæœ¬æœ€ä½â€ã€‚
>
> å› æ­¤ï¼Œæœ¬æ–‡ä¼šæŠŠè°ƒç ”èŒƒå›´è¿›ä¸€æ­¥èšç„¦åˆ° 5 ä¸ªæœ€å…·ä»£è¡¨æ€§çš„å€™é€‰ï¼š**Milvusã€Weaviateã€Pineconeã€PGVectorã€VectorChord**ï¼Œå¹¶ä»æ¶æ„å½¢æ€ã€èƒ½åŠ›è¾¹ç•Œã€å·¥ç¨‹è½åœ°å’Œ TCO æ§åˆ¶å››ä¸ªç»´åº¦åšæ›´æ·±å…¥çš„å¯¹æ¯”ã€‚
>
> | ç±»å‹                            | äº§å“        | æ ¸å¿ƒç‰¹ç‚¹                             |
> | ------------------------------- | ----------- | ------------------------------------ |
> | **PostgreSQL Extension**        | PGVector    | å®˜æ–¹æ‰©å±•ï¼Œä¸ç°æœ‰ PostgreSQL å®Œç¾é›†æˆ |
> |                                 | VectorChord | é«˜æ€§èƒ½æ‰©å±•ï¼Œçªç ´ PGVector æ€§èƒ½ç“¶é¢ˆ   |
> | **Specialized Vector DataBase** | Milvus      | å¼€æºåˆ†å¸ƒå¼ï¼Œæ”¯æŒç™¾äº¿çº§å‘é‡           |
> |                                 | Weaviate    | AI-Nativeï¼Œå†…ç½®å‘é‡åŒ–æ¨¡å—            |
> |                                 | Pinecone    | å…¨æ‰˜ç®¡ SaaSï¼Œé›¶è¿ç»´                  |

---

## 1. PostgreSQL + PGVector

### 1.1 äº§å“æ¦‚è¿°

**æ ¸å¿ƒå®šä½**ï¼š**PostgreSQL ç”¨æˆ·çš„é¦–é€‰â€œé›¶è¿ç§»â€æ–¹æ¡ˆï¼Œç”¨æ¶æ„çš„ç»Ÿä¸€æ€§æ¢å–ç»å¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯ä¸‹çš„â€œå¤Ÿç”¨â€æ€§èƒ½ã€‚**

ä½œä¸ºâ€œæ”¹è‰¯æ´¾â€å‘é‡æ•°æ®åº“çš„æ ‡æ†ï¼ŒPGVector èµ°äº†ä¸€æ¡ä¸å…¶ä»–ç«å“æˆªç„¶ä¸åŒçš„**åŸç”Ÿèåˆ**è·¯çº¿ã€‚å¦‚æœå°†ç‹¬ç«‹å‘é‡æ•°æ®åº“ï¼ˆå¦‚ Milvusï¼‰æ¯”ä½œ**ä¸“ä¸ºèµ›é“æ‰“é€ çš„ F1 èµ›è½¦**ï¼Œé‚£ä¹ˆ PGVector å°±åƒæ˜¯**ä¸ºä½ ç°æœ‰çš„å®¶ç”¨ SUV åŠ è£…äº†ä¸€å¥—é«˜æ€§èƒ½å¯¼èˆªç³»ç»Ÿ**ã€‚

- **F1 èµ›è½¦ï¼ˆç‹¬ç«‹åº“ï¼‰**ï¼šä¸ºäº†æè‡´çš„æ£€ç´¢é€Ÿåº¦å’Œè§„æ¨¡è€Œç”Ÿï¼Œä½†ä½ éœ€è¦ä»˜å‡ºæ˜‚è´µçš„â€œèµ›é“ç»´æŠ¤è´¹â€ï¼ˆç‹¬ç«‹çš„è¿ç»´æˆæœ¬ä¸åŸºç¡€è®¾æ–½ï¼‰ã€‚
- **SUV å‡çº§ï¼ˆPGVectorï¼‰**ï¼šå®ƒä¾ç„¶æ˜¯ä½ é‚£è¾†çš®å®è€ç”¨ã€é€šè¿‡æ€§æå¥½çš„åº§é©¾ï¼ˆACID äº‹åŠ¡ã€å¤æ‚æŸ¥è¯¢ï¼Œä»¥åŠ PostgreSQL çš„æ‰€æœ‰ä¼ä¸šçº§ç‰¹æ€§ï¼‰ã€‚ä½ ä¸éœ€è¦æ¢è½¦ï¼ˆæ•°æ®è¿ç§»ï¼‰ï¼Œåªéœ€ä¸€æ¬¡ç®€å•çš„æ”¹è£…ï¼Œå®ƒå°±èƒ½å¸¦ä½ é©¶å‘â€œè¯­ä¹‰æ£€ç´¢â€çš„æ–°é¢†åŸŸã€‚

```mermaid
graph LR
    subgraph "PGVectorï¼šä¼ ç»Ÿæ•°æ®åº“çš„ AI è¿›åŒ–"
        direction LR
        A[PostgreSQL] --> B[ç»“æ„åŒ–æ•°æ®<br/>ï¼ˆACIDï¼‰]
        A --> C[+ PGVector æ‰©å±•]
        C --> D[å‘é‡æ£€ç´¢èƒ½åŠ›<br/>ï¼ˆHNSWã€IVFFlatï¼‰]
        B & D --> E[ç»Ÿä¸€ SQL æŸ¥è¯¢]

        style A fill:#336791,color:#fff
        style C fill:#e67e22,color:#fff
        style E fill:#27ae60,color:#fff
    end
```

### 1.2 æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§          | æè¿°             | æŠ€æœ¯è§„æ ¼                                      |
| ------------- | ---------------- | --------------------------------------------- |
| **å‘é‡ç±»å‹**  | æ”¯æŒå¤šç§å‘é‡æ ¼å¼ | vector (FP32)ã€halfvec (FP16)ã€bitã€sparsevec |
| **æœ€å¤§ç»´åº¦**  | å•ç²¾åº¦å‘é‡       | 2,000 ç»´ï¼ˆHNSWï¼‰/ 16,000 ç»´ï¼ˆå­˜å‚¨ï¼‰           |
| **è·ç¦»å‡½æ•°**  | 6 ç§åº¦é‡æ–¹å¼     | L2ã€å†…ç§¯ã€ä½™å¼¦ã€L1ã€æ±‰æ˜ã€Jaccard             |
| **ç´¢å¼•ç±»å‹**  | è¿‘ä¼¼æœ€è¿‘é‚»       | HNSWã€IVFFlat                                 |
| **ACID æ”¯æŒ** | å®Œæ•´äº‹åŠ¡ä¿è¯     | âœ… æ”¯æŒ                                       |

### 1.3 å‘é‡æ•°æ®ç±»å‹

é€‰æ‹©å‘é‡ç²¾åº¦å°±åƒé€‰æ‹©**å›¾ç‰‡æ ¼å¼**ï¼š

- **vector (FP32)**ï¼š**RAW æ ¼å¼**ã€‚ç²¾åº¦æ— æŸï¼Œç»†èŠ‚æœ€å…¨ï¼Œä½†ä½“ç§¯æœ€å¤§ã€‚
- **halfvec (FP16)**ï¼š**é«˜æ¸… JPEG**ã€‚**æ¨èé¦–é€‰**ã€‚è‚‰çœ¼ï¼ˆæ¨¡å‹ï¼‰éš¾ä»¥åˆ†è¾¨å·®å¼‚ï¼Œä½†ç©ºé—´èŠ‚çœä¸€åŠï¼Œé€Ÿåº¦æ›´å¿«ã€‚
- **bit**ï¼š**é»‘ç™½ä½å›¾**ã€‚æè‡´å‹ç¼©ï¼Œä»…é€‚ç”¨äºç‰¹å®šäºŒå€¼åŒ–åœºæ™¯ã€‚
- **sparsevec**ï¼š**ç¨€ç–å‘é‡**ã€‚ä»…å­˜å‚¨éé›¶å…ƒç´ ï¼Œé€‚ç”¨äºç¨€ç–å‘é‡åœºæ™¯ã€‚

```sql
CREATE TABLE items (
    id bigserial PRIMARY KEY,
    -- æ¨èï¼šå¤§å¤šæ•° AI åœºæ™¯ä½¿ç”¨ halfvec å¹³è¡¡æ€§èƒ½ä¸æˆæœ¬
    embedding halfvec(1536)
);

-- æ’å…¥æ“ä½œï¼ˆPGVector ä¼šè‡ªåŠ¨å¤„ç†ç±»å‹è½¬æ¢ï¼‰
INSERT INTO items (embedding) VALUES ('[1.1, 2.2, 3.3, ...]');
```

### 1.4 è·ç¦»åº¦é‡

è®¡ç®—ç›¸ä¼¼åº¦ï¼Œå–å†³äºä½ æ‰‹é‡Œæ‹¿çš„æ˜¯å“ªæŠŠ**å°ºå­**ï¼š

- **Cosine (<=>)**ï¼š**æŒ‡å—é’ˆ**ã€‚åªçœ‹**æ–¹å‘**æ˜¯å¦ä¸€è‡´ï¼Œä¸çœ‹é•¿çŸ­ã€‚**è¯­ä¹‰æœç´¢ï¼ˆNLPï¼‰çš„æ ‡å‡†å°ºå­**ã€‚
- **L2 (<->)**ï¼š**ç›´å°º**ã€‚æµ‹é‡ä¸¤ç‚¹é—´çš„ç»å¯¹è·ç¦»ã€‚å¸¸ç”¨äºå›¾åƒæˆ–éŸ³é¢‘çš„ç‰©ç†ç‰¹å¾åŒ¹é…ã€‚
- **Inner Product (<#>)**ï¼š**æŠ•å½±ä»ª**ã€‚è®¡ç®—å‘é‡çš„æŠ•å½±å¼ºåº¦ã€‚åœ¨å‘é‡å½’ä¸€åŒ–åï¼Œå®ƒæ˜¯æœ€é«˜æ•ˆçš„æ›¿ä»£æ–¹æ¡ˆã€‚

| æ“ä½œç¬¦ | è·ç¦»ç±»å‹     | æ ¸å¿ƒåœºæ™¯       | å¤‡æ³¨             |
| :----- | :----------- | :------------- | :--------------- |
| `<=>`  | ä½™å¼¦è·ç¦»     | è¯­ä¹‰ç›¸ä¼¼åº¦     | æ¨èç”¨äºæ–‡æœ¬åµŒå…¥ |
| `<->`  | L2 æ¬§æ°è·ç¦»  | å›¾ç‰‡/éŸ³é¢‘æœç´¢  | ç‰©ç†ç‰¹å¾         |
| `<#>`  | è´Ÿå†…ç§¯       | é«˜æ€§èƒ½æ¨èç³»ç»Ÿ | éœ€å½’ä¸€åŒ–         |
| `<+>`  | L1 è·ç¦»      | æ›¼å“ˆé¡¿è·ç¦»     | ç‰¹å®šåœºæ™¯         |
| `<~>`  | æ±‰æ˜è·ç¦»     | äºŒè¿›åˆ¶å‘é‡     | bit ç±»å‹ä¸“ç”¨     |
| `<%>`  | Jaccard è·ç¦» | äºŒè¿›åˆ¶å‘é‡     | bit ç±»å‹ä¸“ç”¨     |

### 1.5 ç´¢å¼•ç®—æ³•

> [!TIP]
>
> ç´¢å¼•æ˜¯é¢å¯¹æµ·é‡æ•°æ®çš„**å¯¼èˆªç­–ç•¥**ï¼š
>
> - **HNSWï¼ˆHierarchical Navigable Small Worldï¼Œåˆ†å±‚å¯¼èˆªå°ä¸–ç•Œå›¾ï¼‰**ï¼š**ç«‹ä½“äº¤é€šç½‘**ï¼ˆGraphï¼‰ã€‚åˆ©ç”¨é«˜é€Ÿå…¬è·¯å’Œç«‹ä½“æ¢çº½å®ç°è·¨è¶Šå¼å¯»æ‰¾ã€‚**æ€§èƒ½æœ€å¼ºï¼ˆé¦–é€‰ï¼‰**ï¼Œä½†åƒä¿®è·¯ä¸€æ ·æˆæœ¬é«˜ï¼ˆæ„å»ºæ…¢ï¼‰ã€å åœ°å¤§ï¼ˆåƒå†…å­˜ï¼‰ã€‚
> - **IVFFlatï¼ˆInverted File with Flat Clusteringï¼Œå€’æ’æ–‡ä»¶ä¸å¹³é¢èšç±»ï¼‰**ï¼š**è¡Œæ”¿åŒºåˆ’å›¾**ï¼ˆClusterï¼‰ã€‚æŠŠåŸå¸‚åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªæ–¹æ ¼ï¼ˆèšç±»åˆ—è¡¨ï¼‰ï¼Œåªå»ç›®æ ‡æ‰€åœ¨çš„æ–¹æ ¼é‡Œæ‰¾ã€‚**ç®€å•çœåœ°ï¼ˆä¸ä»…çœå†…å­˜ï¼Œè¿˜èƒ½å¿«é€Ÿæ„å»ºï¼‰**ï¼Œä½†å‰ææ˜¯å¿…é¡»å…ˆæœ‰äººï¼ˆæ•°æ®ï¼‰æ‰èƒ½åˆ’åˆ†åŒºåŸŸã€‚
>
> ğŸ’¡ ç®—æ³•åº•å±‚åŸç†åŠæŠ€æœ¯ç»†èŠ‚è¯·å‚é˜… [003-vector-search-algorithm](./003-vector-search-algorithm.md)ã€‚

#### 1.5.1 HNSW ç´¢å¼•

HNSW æ˜¯ç›®å‰ç»¼åˆæ€§èƒ½æœ€å¥½çš„ç´¢å¼•ç®—æ³•ï¼Œå®ç°äº†**é€Ÿåº¦ä¸å¬å›ç‡çš„æœ€ä½³å¹³è¡¡**ã€‚

```sql
-- åˆ›å»º HNSW ç´¢å¼•
-- m: æ¯å±‚æœ€å¤§è¿æ¥æ•°ï¼ˆé»˜è®¤ 16ï¼Œå»ºè®® 16-64ï¼‰ï¼Œ"è·¯å£"çš„åˆ†å²”æ•°ã€‚åˆ†å²”è¶Šå¤šæœç´¢è¶Šå¿«ï¼Œä½†è·¯ä¹Ÿè¶Šå®½ï¼ˆå†…å­˜å ç”¨â†‘ï¼‰ã€‚
-- ef_construction: æ„å»ºæ—¶æœç´¢å®½åº¦ï¼ˆé»˜è®¤ 64ï¼Œå»ºè®® 100-200ï¼‰ã€‚å»ºè·¯æ—¶çš„æ¢ç´¢èŒƒå›´ã€‚èŒƒå›´è¶Šå¤§è·¯ç½‘è´¨é‡è¶Šå¥½ï¼Œä½†ä¿®è·¯è¶Šæ…¢ã€‚
CREATE INDEX ON items USING hnsw (embedding vector_cosine_ops)
WITH (m = 16, ef_construction = 64);

-- ef_search: æŸ¥è¯¢æ—¶æœç´¢å®½åº¦ï¼ˆé»˜è®¤ 40ï¼Œå»ºè®® 100-200ï¼‰ã€‚
SET hnsw.ef_search = 100;
```

#### 1.5.2 IVFFlat ç´¢å¼•

IVFFlat æ˜¯ä¸€ç§åŸºäºèšç±»çš„å€’æ’ç´¢å¼•ï¼Œæ„å»ºé€Ÿåº¦å¿«ï¼Œå†…å­˜å ç”¨ä½ï¼Œé€‚åˆ**å†…å­˜å—é™**çš„åœºæ™¯ï¼Œä½†æŸ¥è¯¢æ€§èƒ½ç¨é€Šäº HNSWã€‚

```sql
-- åˆ›å»º IVFFlat ç´¢å¼•
-- âš ï¸ å¿…é¡»è¡¨ä¸­å·²æœ‰æ•°æ®ï¼ˆå»ºè®® >10ä¸‡è¡Œï¼‰æ‰èƒ½è®¡ç®—èšç±»ä¸­å¿ƒ
-- lists: æŠŠæ•°æ®åˆ’åˆ†æˆå¤šå°‘ä¸ªâ€œæ ¼å­â€ã€‚rows < 1M: lists = rows / 1000ï¼›rows >= 1M: lists = sqrt(rows)ã€‚
CREATE INDEX ON items USING ivfflat (embedding vector_l2_ops)
WITH (lists = 100);

-- probes: æ¢é’ˆæ•°ï¼Œæ¯æ¬¡æŸ¥è¯¢è¦ç¿»æ‰¾æœ€è¿‘çš„å‡ ä¸ªâ€œæ ¼å­â€ï¼ˆæŸ¥è¯¢æ—¶ SET ivfflat.probesï¼‰ã€‚
SET ivfflat.probes = 10;  -- å»ºè®® sqrt(lists)
```

### 1.6 è¿‡æ»¤ä¸æ··åˆæŸ¥è¯¢ç­–ç•¥

ç°å®æŸ¥è¯¢å¾€å¾€å¸¦æœ‰æ¡ä»¶ï¼ˆ`WHERE`ï¼‰ã€‚è¿™å°±åƒåœ¨æ‰¾äººï¼ˆç›¸ä¼¼åº¦ï¼‰çš„åŒæ—¶ï¼Œè¦æ±‚ä»–å¿…é¡»ç©¿çº¢è¡£æœï¼ˆè¿‡æ»¤ï¼‰ï¼š

- **å…ˆç­›é€‰ï¼ˆåˆ—ç´¢å¼•ï¼‰**ï¼š**æŒ‰åå•ç‚¹å**ã€‚å¦‚æœç©¿çº¢è¡£æœçš„äººæå°‘ï¼Œç›´æ¥æŠŠä»–ä»¬å«å‡ºæ¥é€ä¸ªæ¯”å¯¹é•¿ç›¸æœ€å¿«ã€‚
- **å…ˆæ£€ç´¢ï¼ˆå‘é‡ç´¢å¼•ï¼‰**ï¼š**å¹¿åœºæ‰«è§†**ã€‚å¦‚æœç©¿çº¢è¡£æœçš„äººæ»¡å¤§è¡—éƒ½æ˜¯ï¼Œç›´æ¥åœ¨å¹¿åœºä¸Šæ‰¾é•¿å¾—åƒçš„äººï¼Œå¤§æ¦‚ç‡ä»–æ­£å¥½ç©¿çº¢è¡£æœã€‚
- **ä¸“ç”¨åˆ†åŒºï¼ˆéƒ¨åˆ†ç´¢å¼•/åˆ†åŒºï¼‰**ï¼š**VIP åŒ…é—´**ã€‚å¦‚æœç»å¸¸åªåœ¨â€œçº¢è¡£ä¿±ä¹éƒ¨â€é‡Œæ‰¾äººï¼Œå¹²è„†æŠŠä»–ä»¬å•ç‹¬å…³åœ¨ä¸€ä¸ªæˆ¿é—´æœï¼Œäº’ä¸å¹²æ‰°ï¼Œæ•ˆç‡æœ€é«˜ã€‚

#### 1.6.1 ç­–ç•¥é€‰æ‹©æŒ‡å—

```sql
-- æ··åˆæŸ¥è¯¢ï¼šæ—¢è¦â€œé•¿å¾—åƒâ€ï¼Œåˆè¦â€œæ»¡è¶³æ¡ä»¶â€
SELECT * FROM items WHERE category_id = 123 ORDER BY embedding <-> '[3,1,2]' LIMIT 5;
```

| ç­–ç•¥              | é€‚ç”¨åœºæ™¯                             | å¯¹åº”é€»è¾‘           | å»ºè®®                                                                                                                                              |
| :---------------- | :----------------------------------- | :----------------- | :------------------------------------------------------------------------------------------------------------------------------------------------ |
| **åˆ—ç´¢å¼•ä¼˜å…ˆ**    | **å¼ºè¿‡æ»¤**ï¼ˆç¬¦åˆæ¡ä»¶çš„æ•°æ®**å¾ˆå°‘**ï¼‰ | ç²¾ç¡®æ‰¾ -> ç®—è·ç¦»   | å»ºç«‹æ™®é€š B-Tree ç´¢å¼•ã€‚<br/>`CREATE INDEX ON items (category_id)`                                                                                  |
| **å‘é‡ç´¢å¼•ä¼˜å…ˆ**  | **å¼±è¿‡æ»¤**ï¼ˆç¬¦åˆæ¡ä»¶çš„æ•°æ®**å¾ˆå¤š**ï¼‰ | è¿‘ä¼¼æœ -> å‰”é™¤ä¸ç¬¦ | é€‚å½“å¢å¤§ `ef_search` é˜²æ­¢æœä¸åˆ°                                                                                                                   |
| **éƒ¨åˆ†/åˆ†åŒºç´¢å¼•** | **å›ºå®šé«˜é¢‘**ï¼ˆç‰¹å®šä¸šåŠ¡åŸŸï¼‰           | åœ¨å­é›†ä¸­æœ HNSW    | æ€§èƒ½æœ€ä½³ï¼Œé€‚åˆå¤šç§Ÿæˆ·/ç±»åˆ«å›ºå®šçš„åœºæ™¯ã€‚<br/>`CREATE INDEX ON items USING hnsw (...) WHERE (category_id = 123)`<br/>`PARTITION BY LIST(category_id)` |

#### 1.6.2 è¿­ä»£ç´¢å¼•æ‰«æ (v0.8.0+)

è¿™æ˜¯ä¸ºäº†è§£å†³â€œå…ˆæ£€ç´¢åè¿‡æ»¤â€å¯èƒ½å¯¼è‡´ç»“æœä¸è¶³çš„é—®é¢˜ã€‚å°±åƒ **HR æ‹›è˜**ï¼š

- **æ™®é€šæ¨¡å¼**ï¼šä½ è¦æ±‚â€œæ‹› 5 ä¸ªæ‡‚ Rust çš„ä¸“å®¶ï¼ˆFilterï¼‰â€ã€‚çŒå¤´æŒ‰æŠ€æœ¯æ’åæ‰¾æ¥å‰ 5 åå¤§ç‰›ï¼ˆVectorï¼‰ï¼Œç»“æœå‘ç°åªæœ‰ 1 ä¸ªäººæ‡‚ Rustã€‚äºæ˜¯åªç»™ä½  1 ä»½ç®€å†ï¼Œä»»åŠ¡ç»“æŸã€‚
- **è¿­ä»£æ‰«æ**ï¼šçŒå¤´å‘ç°å‰ 5 åé‡Œåªæœ‰ 1 ä¸ªç¬¦åˆï¼Œäºæ˜¯è‡ªåŠ¨ç»§ç»­å¾€ä¸‹ç¿»ç¬¬ 6-10 åã€ç¬¬ 11-20 å... ç›´åˆ°å‡‘é½ 5 ä¸ªæ‡‚ Rust çš„ä¸“å®¶ç»™ä½ ã€‚

```sql
-- å®½æ¾é¡ºåºï¼ˆRelaxed Orderï¼‰ï¼šä¸ºäº†å‡‘é½äººæ•°ï¼Œå…è®¸ç¨å¾®ç‰ºç‰²ä¸€ç‚¹æ’åºçš„ä¸¥æ ¼æ€§ï¼ˆæ€§èƒ½æ›´å¥½ï¼‰
SET hnsw.iterative_scan = relaxed_order;

-- ä¸¥æ ¼é¡ºåºï¼ˆStrict Orderï¼‰ï¼šå¿…é¡»ä¸¥æ ¼æŒ‰è·ç¦»æ’åºï¼Œå“ªæ€•è¦æ‰«ææ›´å¤šæ•°æ®
SET hnsw.iterative_scan = strict_order;
-- SET ivfflat.iterative_scan = relaxed_order;  -- IVFFlat ç´¢å¼•çš„è¿­ä»£æ‰«ææ¨¡å¼

-- ä½¿ç”¨ç‰©åŒ– CTE åœ¨å®½æ¾é¡ºåºä¸‹è·å–é«˜é¢‘æŸ¥è¯¢çš„ä¸¥æ ¼æ’åº
WITH relaxed_results AS MATERIALIZED (
    SELECT id, embedding <-> '[1,2,3]' AS distance
    FROM items WHERE category_id = 123
    ORDER BY distance LIMIT 5
) SELECT * FROM relaxed_results ORDER BY distance + 0;  -- +0 for PG17+
```

**è¿­ä»£æ‰«æå‚æ•°**ï¼š

| å‚æ•°                   | æè¿°                   | é»˜è®¤å€¼ |
| ---------------------- | ---------------------- | ------ |
| `hnsw.max_scan_tuples` | HNSW æœ€å¤§æ‰«æå…ƒç»„æ•°    | 20000  |
| `ivfflat.max_probes`   | IVFFlat æœ€å¤§æ¢æµ‹åˆ—è¡¨æ•° | å…¨éƒ¨   |

#### 1.6.3 æ··åˆæœç´¢ï¼ˆå‘é‡ + å…¨æ–‡ï¼‰

è¿™æ˜¯ "Just use PostgreSQL" çš„é‡è¦åŸå› ï¼Œæ¯”å¦‚ **åˆ‘ä¾¦ç ´æ¡ˆ**ï¼š

- **å‘é‡æœç´¢**ï¼šæ‹¿ç€**å«Œç–‘äººç´ æ**æ‰¾é•¿å¾—åƒçš„äººï¼ˆæ¨¡ç³Šè¯­ä¹‰ï¼‰ã€‚
- **å…¨æ–‡æœç´¢**ï¼šæŸ¥**è½¦ç‰Œå·**åŒ…å« "888" çš„è®°å½•ï¼ˆç²¾ç¡®å…³é”®è¯ï¼‰ã€‚
- **æ··åˆå¨åŠ›**ï¼šåœ¨åŒä¸€ä¸ª SQL é‡Œï¼Œæ—¢æŸ¥â€œé•¿å¾—åƒç´ æâ€åˆæŸ¥â€œè½¦ç‰Œå¯¹å¾—ä¸Šâ€çš„äººï¼Œæ— éœ€æ‹¼æ¥ä¸¤ä¸ªç³»ç»Ÿçš„ç»“æœã€‚

```sql
-- æ··åˆæœæŸ¥ä»¤ï¼šç»“åˆâ€œè½¦ç‰Œå·â€ä¸â€œç´ æç”»â€
SELECT id, content,
    -- ç»¼åˆå«Œç–‘æŒ‡æ•° = è½¦ç‰ŒåŒ¹é…åº¦(30%) + é•¿ç›¸ç›¸ä¼¼åº¦(70%)
    ts_rank(to_tsvector('english', content), query) * 0.3  -- [è½¦ç‰Œ] å…³é”®è¯åŒ¹é…å¾—åˆ†
    + (1 - (embedding <=> '[...]')) * 0.7                  -- [ç´ æ] å‘é‡ç›¸ä¼¼åº¦å¾—åˆ†
    AS final_score
FROM items, plainto_tsquery('english', 'machine learning') query
WHERE to_tsvector('english', content) @@ query  -- [åˆç­›] å¿…é¡»åŒ…å«å…³é”®çº¿ç´¢
ORDER BY final_score DESC
LIMIT 10;
```

### 1.7 æ€§èƒ½è°ƒä¼˜æŒ‡å—

è¦æƒ³æ•°æ®åº“è·‘å¾—å¿«ï¼Œé™¤äº†å¼•æ“å¥½ï¼Œè¿˜å¾—ä¼š**ä¿å…»å’Œé©¾é©¶**ï¼š

- **æ•°æ®å¯¼å…¥**ï¼šåƒ**æ¬å®¶**ã€‚å…ˆæŠŠä¸œè¥¿å…¨æ¬è¿›å±‹ï¼ˆCOPYï¼‰ï¼Œæœ€åå†æ…¢æ…¢æ•´ç†å½’ä½ï¼ˆå»ºç´¢å¼•ï¼‰ã€‚è¾¹æ¬è¾¹æ•´æœ€æ…¢ã€‚
- **ç´¢å¼•æ„å»º**ï¼šç»™å·¥äººå‡†å¤‡**å¤§å·¥ä½œå°**ï¼ˆMemoryï¼‰ä¸**å¤šå¸®æ‰‹**ï¼ˆWorkersï¼‰ï¼Œå¹²æ´»æ‰èƒ½å¿«ã€‚
- **æŸ¥è¯¢ç²¾åº¦**ï¼šåƒ**å¯»å®**ã€‚æœå¾—è¶Šç»†ï¼ˆef_search å¤§ï¼‰ï¼Œç»“æœè¶Šå‡†ï¼Œä½†è€—æ—¶è¶Šé•¿ã€‚

| å…³é”®åŠ¨ä½œ     | å½¢è±¡æ¯”å–»         | ä¼˜åŒ–ç­–ç•¥                                   | æ ¸å¿ƒé…ç½®                                     |
| :----------- | :--------------- | :----------------------------------------- | :------------------------------------------- |
| **æ‰¹é‡å¯¼å…¥** | **å…ˆæ¬å®¶åæ•´ç†** | ä½¿ç”¨ `COPY` åè®®ï¼Œ**å…ˆæ’å…¥æ•°æ®ï¼Œåå»ºç´¢å¼•** | `COPY items FROM STDIN WITH (FORMAT BINARY)` |
| **ç´¢å¼•æ„å»º** | **åŠ å¤§å·¥ä½œå°**   | ä¸´æ—¶è°ƒå¤§ç»´æŠ¤å†…å­˜ï¼Œé¿å…é¢‘ç¹è¯»å†™ç£ç›˜         | `SET maintenance_work_mem = '8GB'`           |
| **å¹¶è¡Œæ„å»º** | **å¤šè¯·å‡ ä¸ªå·¥äºº** | å¢åŠ å¹¶è¡Œè¿›ç¨‹æ•°ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸ CPU           | `SET max_parallel_maintenance_workers = 7`   |
| **æŸ¥è¯¢ä¼˜åŒ–** | **æœå¾—æ›´ä»”ç»†**   | å¢å¤§æœç´¢å¹¿åº¦ï¼Œç”¨æ—¶é—´æ¢å¬å›ç‡               | `SET hnsw.ef_search = 100`                   |
| **æè‡´æ€§èƒ½** | **æŠ„è¿‘é“**       | å½’ä¸€åŒ–å‘é‡æ”¹ç”¨å†…ç§¯ï¼ˆæŠ•å½±ï¼‰è®¡ç®—             | æ›¿æ¢ `<=>` ä¸º `<#>`                          |

---

## 2. VectorChord

### 2.1 äº§å“æ¦‚è¿°

VectorChordï¼ˆåŸ pgvecto.rsï¼‰æ˜¯ç”± TensorChord å¼€å‘çš„é«˜æ€§èƒ½ PostgreSQL å‘é‡æœç´¢æ‰©å±•<sup>[[5]](#ref5)</sup>ã€‚å®ƒé‡‡ç”¨ Rust è¯­è¨€ç¼–å†™ï¼Œæä¾›æ¯” PGVector æ›´ä¼˜çš„æ€§èƒ½è¡¨ç°ã€‚

> âš ï¸ **æ³¨æ„**ï¼šTensorChord æ¨èæ–°ç”¨æˆ·ä½¿ç”¨ VectorChordï¼ˆæ–°ä¸€ä»£å®ç°ï¼‰ï¼Œè€Œéæ—§ç‰ˆ pgvecto.rs<sup>[[6]](#ref6)</sup>ã€‚

**æ ¸å¿ƒå®šä½**ï¼šä¸º PostgreSQL ç”¨æˆ·æä¾›ä¼ä¸šçº§é«˜æ€§èƒ½å‘é‡æœç´¢èƒ½åŠ›ã€‚

```mermaid
graph TB
    subgraph "VectorChord æŠ€æœ¯ä¼˜åŠ¿"
        A[5x æŸ¥è¯¢æ€§èƒ½æå‡]
        B[16x å†™å…¥ååæå‡]
        C[16x ç´¢å¼•æ„å»ºåŠ é€Ÿ]
        D[RaBitQ é‡åŒ–ç®—æ³•]
        E[60,000 ç»´æ”¯æŒ]
    end

    style A fill:#52c41a,color:#fff
    style D fill:#fa541c,color:#fff
```

### 3.2 æ ¸å¿ƒç‰¹æ€§å¯¹æ¯” PGVector

| ç‰¹æ€§             | PGVector     | VectorChord | æå‡å€æ•° |
| ---------------- | ------------ | ----------- | -------- |
| **æŸ¥è¯¢æ€§èƒ½**     | åŸºå‡†         | 5x æ›´å¿«     | 5x       |
| **å†™å…¥åå**     | åŸºå‡†         | 16x æ›´é«˜    | 16x      |
| **ç´¢å¼•æ„å»º**     | åŸºå‡†         | 16x æ›´å¿«    | 16x      |
| **æœ€å¤§ç»´åº¦**     | 2,000 (HNSW) | 60,000      | 30x      |
| **å‘é‡å­˜å‚¨æˆæœ¬** | $6/400K      | $1/400K     | 6x       |

### 3.3 RaBitQ é‡åŒ–ç®—æ³•

VectorChord é‡‡ç”¨ RaBitQï¼ˆRandomized Bit Quantizationï¼‰ç®—æ³•å®ç°é«˜æ•ˆå‘é‡å‹ç¼©<sup>[[7]](#ref7)</sup>ï¼š

```sql
-- åˆ›å»º VectorChord ç´¢å¼•ï¼ˆvchordrqï¼‰
CREATE INDEX ON items USING vchordrq (embedding vector_l2_ops);

-- å¸¦é‡åŒ–é€‰é¡¹
CREATE INDEX ON items USING vchordrq (embedding vector_cosine_ops)
WITH (options = $$
    residual_quantization = true
    [build.internal]
    lists = [1000]
    spherical_centroids = true
    build_threads = 8
$$);
```

### 3.4 ç´¢å¼•è°ƒä¼˜æŒ‡å—

| æ•°æ®è§„æ¨¡   | lists é…ç½®   | probes å»ºè®® |
| ---------- | ------------ | ----------- |
| < 1M       | `[]`ï¼ˆè‡ªåŠ¨ï¼‰ | é»˜è®¤        |
| 1M - 10M   | `[2000]`     | 10          |
| 10M - 100M | `[10000]`    | 30          |
| > 100M     | `[80000]`    | 100         |

```sql
-- æŸ¥è¯¢å‚æ•°è®¾ç½®
SET vchordrq.probes TO '10';
SELECT * FROM items ORDER BY embedding <-> '[3,1,2]' LIMIT 10;
```

### 3.5 ä¸ PGVector å…¼å®¹æ€§

VectorChord å®Œå…¨å…¼å®¹ pgvector çš„æ•°æ®ç±»å‹å’Œè¯­æ³•<sup>[[8]](#ref8)</sup>ï¼š

```sql
-- ä¾èµ– pgvector
CREATE EXTENSION IF NOT EXISTS vchord CASCADE;

-- ä½¿ç”¨ pgvector çš„ vector ç±»å‹
CREATE TABLE items (
    id bigserial PRIMARY KEY,
    embedding vector(3)
);

-- æ— ç¼è¿ç§»
-- åªéœ€å°†ç´¢å¼•ç±»å‹ä» hnsw æ”¹ä¸º vchordrq
```

### 3.6 vchordg å›¾ç´¢å¼• (v0.5.0+)

VectorChord è¿˜æä¾›åŸºäºç£ç›˜çš„å›¾ç´¢å¼• `vchordg`ï¼Œå†…å­˜æ¶ˆè€—æ›´ä½<sup>[[23]](#ref23)</sup>ï¼š

```sql
-- åˆ›å»º vchordg å›¾ç´¢å¼•
CREATE INDEX ON items USING vchordg (embedding vector_l2_ops);

-- å¸¦å‚æ•°é…ç½®
CREATE INDEX ON items USING vchordg (embedding vector_cosine_ops)
WITH (options = $$
    bits = 2
    m = 32
    ef_construction = 64
    alpha = [1.0, 1.2]
$$);
```

**vchordg å‚æ•°è¯´æ˜**ï¼š

| å‚æ•°              | æè¿°               | é»˜è®¤å€¼     | å»ºè®®                   |
| ----------------- | ------------------ | ---------- | ---------------------- |
| `bits`            | RaBitQ é‡åŒ–æ¯”ç‡    | 2          | 2 = é«˜å¬å›ï¼Œ1 = ä½å†…å­˜ |
| `m`               | æ¯é¡¶ç‚¹æœ€å¤§é‚»å±…æ•°   | 32         | å¯¹åº” HNSW/DiskANN çš„ M |
| `ef_construction` | æ„å»ºæ—¶åŠ¨æ€åˆ—è¡¨å¤§å° | 64         | è¶Šå¤§è¶Šæ…¢ä½†è´¨é‡è¶Šå¥½     |
| `alpha`           | å‰ªææ—¶çš„ alpha å€¼  | [1.0, 1.2] | å¯¹åº” DiskANN çš„ alpha  |

### 3.7 é¢„è¿‡æ»¤ Prefilter (v0.4.0+)

VectorChord çš„ `vchordrq.prefilter` å‚æ•°å…è®¸å‘é‡ç´¢å¼•åˆ©ç”¨è¿‡æ»¤æ¡ä»¶è¿›è¡Œå‰ªæ<sup>[[24]](#ref24)</sup>ï¼š

```sql
-- å¯ç”¨é¢„è¿‡æ»¤
SET vchordrq.prefilter = on;

-- é€‚ç”¨äºä¸¥æ ¼ä¸”ä½æˆæœ¬çš„è¿‡æ»¤æ¡ä»¶
-- 1% é€‰æ‹©ç‡æ—¶å¯è·å¾— 200% QPS æå‡
-- 10% é€‰æ‹©ç‡æ—¶å¯è·å¾— 5% QPS æå‡
```

> **æ³¨æ„**ï¼šé¢„è¿‡æ»¤ä»…æ¨èç”¨äº**ä¸¥æ ¼**ï¼ˆè¿‡æ»¤å¤§é‡è¡Œï¼‰ä¸”**ä½æˆæœ¬**ï¼ˆè®¡ç®—å¼€é”€è¿œä½äºå‘é‡è·ç¦»è®¡ç®—ï¼‰çš„è¿‡æ»¤æ¡ä»¶ã€‚

---

## 4. Milvus

### 4.1 äº§å“æ¦‚è¿°

Milvus æ˜¯ç”± Zilliz å¼€å‘çš„å¼€æºã€äº‘åŸç”Ÿåˆ†å¸ƒå¼å‘é‡æ•°æ®åº“<sup>[[9]](#ref9)</sup>ã€‚å®ƒæ˜¯ LF AI & Data Foundation çš„æ¯•ä¸šé¡¹ç›®ï¼Œä¸“ä¸ºå¤§è§„æ¨¡å‘é‡ç›¸ä¼¼æ€§æœç´¢è®¾è®¡ï¼Œæ”¯æŒç™¾äº¿çº§å‘é‡çš„é«˜æ€§èƒ½æ£€ç´¢ã€‚

**æ ¸å¿ƒå®šä½**ï¼šä¼ä¸šçº§åˆ†å¸ƒå¼å‘é‡æ•°æ®åº“ï¼Œä¸º AI åº”ç”¨æä¾›å¯æ‰©å±•çš„å‘é‡æ£€ç´¢åŸºç¡€è®¾æ–½ã€‚

```mermaid
graph TB
    subgraph "Milvus éƒ¨ç½²æ¨¡å¼"
        L[Milvus Lite<br/>Python åµŒå…¥å¼]
        S[Milvus Standalone<br/>Docker å•æœº]
        D[Milvus Distributed<br/>Kubernetes é›†ç¾¤]
        Z[Zilliz Cloud<br/>å…¨æ‰˜ç®¡æœåŠ¡]
    end

    L --> |å¼€å‘| S
    S --> |ç”Ÿäº§| D
    D --> |è¿ç»´æ‰˜ç®¡| Z

    style L fill:#e6f7ff
    style D fill:#00A1EA,color:#fff
    style Z fill:#722ed1,color:#fff
```

### 4.2 æ ¸å¿ƒæ¶æ„

Milvus é‡‡ç”¨å­˜å‚¨è®¡ç®—åˆ†ç¦»çš„äº‘åŸç”Ÿåˆ†å¸ƒå¼æ¶æ„<sup>[[10]](#ref10)</sup>ï¼š

```mermaid
graph TB
    subgraph "è®¿é—®å±‚"
        Proxy[Proxy<br/>è´Ÿè½½å‡è¡¡ä¸è¯·æ±‚è·¯ç”±]
    end

    subgraph "åè°ƒå±‚"
        RC[Root Coord<br/>DDL/DCL ç®¡ç†]
        QC[Query Coord<br/>æŸ¥è¯¢è°ƒåº¦]
        DC[Data Coord<br/>æ•°æ®è°ƒåº¦]
        IC[Index Coord<br/>ç´¢å¼•è°ƒåº¦]
    end

    subgraph "å·¥ä½œèŠ‚ç‚¹å±‚"
        QN[Query Node<br/>å‘é‡æœç´¢]
        DN[Data Node<br/>æ•°æ®æŒä¹…åŒ–]
        IN[Index Node<br/>ç´¢å¼•æ„å»º]
    end

    subgraph "å­˜å‚¨å±‚"
        ETCD[(etcd<br/>å…ƒæ•°æ®)]
        MINIO[(MinIO/S3<br/>å¯¹è±¡å­˜å‚¨)]
        MQ[Kafka/Pulsar<br/>æ¶ˆæ¯é˜Ÿåˆ—]
    end

    Proxy --> RC & QC & DC & IC
    QC --> QN
    DC --> DN
    IC --> IN
    QN & DN & IN --> MINIO
    RC --> ETCD
    DN --> MQ

    style Proxy fill:#00A1EA,color:#fff
    style MINIO fill:#ff5722,color:#fff
```

**å››å±‚æ¶æ„è¯´æ˜**ï¼š

| å±‚çº§           | ç»„ä»¶              | èŒè´£                                 |
| -------------- | ----------------- | ------------------------------------ |
| **è®¿é—®å±‚**     | Proxy             | æ— çŠ¶æ€ä»£ç†ï¼Œå¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ä¸ç»“æœèšåˆ |
| **åè°ƒå±‚**     | Coordinators      | é›†ç¾¤æ‹“æ‰‘ç®¡ç†ã€ä»»åŠ¡è°ƒåº¦ã€ä¸€è‡´æ€§æ§åˆ¶   |
| **å·¥ä½œèŠ‚ç‚¹å±‚** | Worker Nodes      | å‘é‡æœç´¢ã€æ•°æ®æŒä¹…åŒ–ã€ç´¢å¼•æ„å»º       |
| **å­˜å‚¨å±‚**     | etcd + MinIO + MQ | å…ƒæ•°æ®ã€å‘é‡/ç´¢å¼•å­˜å‚¨ã€WAL æ—¥å¿—      |

### 4.3 ç´¢å¼•ç®—æ³•ä½“ç³»

Milvus æ”¯æŒä¸°å¯Œçš„å‘é‡ç´¢å¼•ç±»å‹<sup>[[11]](#ref11)</sup>ï¼š

```mermaid
graph LR
    subgraph "å‘é‡ç´¢å¼•"
        IVF[IVF ç³»åˆ—<br/>IVF_FLAT, IVF_SQ8, IVF_PQ]
        Graph[å›¾ç´¢å¼•<br/>HNSW, SCANN]
        Disk[ç£ç›˜ç´¢å¼•<br/>DiskANN]
        GPU[GPU ç´¢å¼•<br/>GPU_IVF_FLAT, CAGRA]
    end

    subgraph "æ ‡é‡ç´¢å¼•"
        INV[å€’æ’ç´¢å¼•]
        BIT[Bitmap ç´¢å¼•]
        TRIE[Trie ç´¢å¼•]
    end

    style IVF fill:#4285f4,color:#fff
    style Graph fill:#34a853,color:#fff
    style GPU fill:#ea4335,color:#fff
```

| ç´¢å¼•ç±»å‹      | ç®—æ³•            | é€‚ç”¨åœºæ™¯       | å†…å­˜è¦æ±‚ |
| ------------- | --------------- | -------------- | -------- |
| **IVF_FLAT**  | èšç±» + ç²¾ç¡®æœç´¢ | é«˜å¬å›åœºæ™¯     | ä¸­       |
| **IVF_SQ8**   | èšç±» + æ ‡é‡é‡åŒ– | å¹³è¡¡æ€§èƒ½ä¸å¬å› | ä½       |
| **IVF_PQ**    | èšç±» + ä¹˜ç§¯é‡åŒ– | å¤§è§„æ¨¡ä½å†…å­˜   | æä½     |
| **HNSW**      | å¤šå±‚å›¾æœç´¢      | ä½å»¶è¿Ÿé«˜å¬å›   | é«˜       |
| **DiskANN**   | ç£ç›˜å›¾ç´¢å¼•      | è¶…å¤§è§„æ¨¡æ•°æ®   | æä½     |
| **GPU_CAGRA** | GPU ä¼˜åŒ–å›¾      | GPU åŠ é€Ÿåœºæ™¯   | N/A      |

### 4.4 è·ç¦»åº¦é‡

| åº¦é‡ç±»å‹     | æ ‡è¯†ç¬¦    | é€‚ç”¨åœºæ™¯   |
| ------------ | --------- | ---------- |
| æ¬§æ°è·ç¦»     | `L2`      | ç‰©ç†ç›¸ä¼¼åº¦ |
| å†…ç§¯         | `IP`      | å½’ä¸€åŒ–å‘é‡ |
| ä½™å¼¦ç›¸ä¼¼åº¦   | `COSINE`  | è¯­ä¹‰ç›¸ä¼¼åº¦ |
| æ±‰æ˜è·ç¦»     | `HAMMING` | äºŒè¿›åˆ¶å‘é‡ |
| Jaccard è·ç¦» | `JACCARD` | é›†åˆç›¸ä¼¼åº¦ |

### 4.5 æœç´¢èƒ½åŠ›

```python
from pymilvus import MilvusClient

# åˆå§‹åŒ–å®¢æˆ·ç«¯
client = MilvusClient("demo.db")  # Milvus Lite

# åˆ›å»º Collection
client.create_collection(
    collection_name="demo_collection",
    dimension=768
)

# æ’å…¥æ•°æ®
client.insert(
    collection_name="demo_collection",
    data=[{"id": 1, "vector": [...], "subject": "history"}]
)

# ANN æœç´¢
results = client.search(
    collection_name="demo_collection",
    data=[query_vector],
    limit=10,
    output_fields=["subject"]
)

# å¸¦è¿‡æ»¤çš„æœç´¢
results = client.search(
    collection_name="demo_collection",
    data=[query_vector],
    filter='subject == "history"',
    limit=10
)
```

**æœç´¢åŠŸèƒ½çŸ©é˜µ**ï¼š

| åŠŸèƒ½           | æè¿°                | æ”¯æŒæƒ…å†µ |
| -------------- | ------------------- | -------- |
| **ANN æœç´¢**   | è¿‘ä¼¼æœ€è¿‘é‚»          | âœ…       |
| **å…ƒæ•°æ®è¿‡æ»¤** | æ ‡é‡æ¡ä»¶è¿‡æ»¤        | âœ…       |
| **èŒƒå›´æœç´¢**   | æŒ‡å®šåŠå¾„å†…æœç´¢      | âœ…       |
| **æ··åˆæœç´¢**   | å¤šå‘é‡å­—æ®µè”åˆæœç´¢  | âœ…       |
| **å…¨æ–‡æœç´¢**   | BM25 å…³é”®è¯æœç´¢     | âœ…       |
| **é‡æ’åº**     | BGE/Cohere Reranker | âœ…       |

### 4.6 æ€§èƒ½åŸºå‡†

åŸºäº Milvus 2.2 å®˜æ–¹åŸºå‡†æµ‹è¯•<sup>[[12]](#ref12)</sup>ï¼š

| æŒ‡æ ‡        | æ•°æ®è§„æ¨¡      | æ€§èƒ½è¡¨ç°      |
| ----------- | ------------- | ------------- |
| **QPS**     | 1M 128D       | 10k - 30k     |
| **å»¶è¿Ÿ**    | æ ‡å‡†é›†ç¾¤      | < 10ms (P99)  |
| **æ‰©å±•æ€§**  | CPU æ ¸æ•°      | çº¿æ€§æ‰©å±•      |
| **vs å…¶ä»–** | VectorDBBench | 2-5x æ€§èƒ½ä¼˜åŠ¿ |

### 4.7 éƒ¨ç½²æ¨¡å¼å¯¹æ¯”

| æ¨¡å¼             | é€‚ç”¨åœºæ™¯          | æ•°æ®è§„æ¨¡ | è¿ç»´å¤æ‚åº¦ |
| ---------------- | ----------------- | -------- | ---------- |
| **Milvus Lite**  | æœ¬åœ°å¼€å‘ã€Jupyter | < 100K   | â˜…â˜†â˜†â˜†â˜†      |
| **Standalone**   | å•æœºå¼€å‘æµ‹è¯•      | < 10M    | â˜…â˜…â˜†â˜†â˜†      |
| **Distributed**  | ç”Ÿäº§ç¯å¢ƒ          | ç™¾äº¿çº§   | â˜…â˜…â˜…â˜…â˜†      |
| **Zilliz Cloud** | å…¨æ‰˜ç®¡ç”Ÿäº§        | ç™¾äº¿çº§   | â˜…â˜†â˜†â˜†â˜†      |

---

## 5. Weaviate

### 5.1 äº§å“æ¦‚è¿°

Weaviate æ˜¯ä¸€æ¬¾å¼€æºçš„ AI-Native å‘é‡æ•°æ®åº“ï¼Œä¸“ä¸ºæ„å»º AI åº”ç”¨è€Œè®¾è®¡<sup>[[13]](#ref13)</sup>ã€‚å®ƒçš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯å†…ç½®å‘é‡åŒ–æ¨¡å—ï¼Œå¯ä»¥è‡ªåŠ¨å°†æ•°æ®è½¬åŒ–ä¸ºå‘é‡åµŒå…¥ã€‚

**æ ¸å¿ƒå®šä½**ï¼šAI-Native å‘é‡æ•°æ®åº“ï¼Œæä¾›å¼€ç®±å³ç”¨çš„è¯­ä¹‰æœç´¢å’Œ RAG èƒ½åŠ›ã€‚

```mermaid
graph TB
    subgraph "Weaviate ç”Ÿæ€ç³»ç»Ÿ"
        WDB[Weaviate Database<br/>å¼€æºå‘é‡æ•°æ®åº“]
        WC[Weaviate Cloud<br/>æ‰˜ç®¡æœåŠ¡]
        WA[Weaviate Agents<br/>é¢„æ„å»ºä»£ç†æœåŠ¡]
        WE[Weaviate Embeddings<br/>æ‰˜ç®¡åµŒå…¥æœåŠ¡]
    end

    WDB --> WC
    WC --> WA & WE

    style WDB fill:#38b2ac,color:#fff
    style WC fill:#805ad5,color:#fff
```

### 5.2 æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§           | æè¿°                 | ä¼˜åŠ¿                    |
| -------------- | -------------------- | ----------------------- |
| **å†…ç½®å‘é‡åŒ–** | è‡ªåŠ¨ç”Ÿæˆå‘é‡åµŒå…¥     | æ— éœ€å¤–éƒ¨ Embedding æœåŠ¡ |
| **è¯­ä¹‰æœç´¢**   | åŸºäºå«ä¹‰çš„ç›¸ä¼¼æ€§æœç´¢ | è¶…è¶Šå…³é”®è¯åŒ¹é…          |
| **æ··åˆæœç´¢**   | å‘é‡ + BM25 ç»“åˆ     | å…¼é¡¾è¯­ä¹‰ä¸å…³é”®è¯        |
| **RAG æ”¯æŒ**   | å†…ç½®ç”Ÿæˆå¼æœç´¢       | ç®€åŒ– RAG æµç¨‹           |
| **æ¨¡å—åŒ–æ¶æ„** | å¯æ’æ‹”çš„å‘é‡åŒ–æ¨¡å—   | çµæ´»é€‰æ‹©æ¨¡å‹            |

### 5.3 å‘é‡ç´¢å¼•ç±»å‹

Weaviate æ”¯æŒä¸‰ç§å‘é‡ç´¢å¼•ç±»å‹<sup>[[14]](#ref14)</sup>ï¼š

```mermaid
graph LR
    subgraph "ç´¢å¼•ç±»å‹é€‰æ‹©"
        HNSW[HNSW ç´¢å¼•<br/>å¤§è§„æ¨¡æ•°æ®]
        Flat[Flat ç´¢å¼•<br/>å°è§„æ¨¡æ•°æ®]
        Dynamic[Dynamic ç´¢å¼•<br/>è‡ªåŠ¨åˆ‡æ¢]
    end

    Small[å°æ•°æ®é›†] --> Flat
    Large[å¤§æ•°æ®é›†] --> HNSW
    Unknown[æœªçŸ¥è§„æ¨¡] --> Dynamic

    style HNSW fill:#4285f4,color:#fff
    style Dynamic fill:#34a853,color:#fff
```

| ç´¢å¼•ç±»å‹    | ç®—æ³•     | é€‚ç”¨åœºæ™¯   | ç‰¹ç‚¹                     |
| ----------- | -------- | ---------- | ------------------------ |
| **HNSW**    | å¤šå±‚å›¾   | å¤§è§„æ¨¡æ•°æ® | å¯¹æ•°æ—¶é—´å¤æ‚åº¦ï¼Œé«˜å¬å›   |
| **Flat**    | æš´åŠ›æœç´¢ | å°è§„æ¨¡æ•°æ® | å®Œç¾å¬å›ï¼Œé€‚åˆå¤šç§Ÿæˆ·     |
| **Dynamic** | è‡ªåŠ¨åˆ‡æ¢ | æœªçŸ¥è§„æ¨¡   | å°æ—¶ç”¨ Flatï¼Œå¤§æ—¶åˆ‡ HNSW |

### 5.4 å‘é‡åŒ–æ¨¡å—

Weaviate æ”¯æŒå¤šç§å‘é‡åŒ–æ¨¡å—<sup>[[15]](#ref15)</sup>ï¼š

| æ¨¡å—ç±»å‹                 | æ¨¡å‹æä¾›å•†  | æ”¯æŒæ¨¡æ€    |
| ------------------------ | ----------- | ----------- |
| **text2vec-openai**      | OpenAI      | æ–‡æœ¬        |
| **text2vec-cohere**      | Cohere      | æ–‡æœ¬        |
| **text2vec-huggingface** | HuggingFace | æ–‡æœ¬        |
| **multi2vec-clip**       | OpenAI CLIP | å›¾åƒ + æ–‡æœ¬ |
| **multi2vec-bind**       | ImageBind   | å¤šæ¨¡æ€      |

### 5.5 è·ç¦»åº¦é‡

| åº¦é‡ç±»å‹   | æ ‡è¯†ç¬¦       | é€‚ç”¨åœºæ™¯           |
| ---------- | ------------ | ------------------ |
| ä½™å¼¦ç›¸ä¼¼åº¦ | `cosine`     | è¯­ä¹‰ç›¸ä¼¼åº¦ï¼ˆé»˜è®¤ï¼‰ |
| æ¬§æ°è·ç¦»   | `l2-squared` | ç‰©ç†ç›¸ä¼¼åº¦         |
| ç‚¹ç§¯       | `dot`        | å½’ä¸€åŒ–å‘é‡         |
| æ±‰æ˜è·ç¦»   | `hamming`    | äºŒè¿›åˆ¶å‘é‡         |

### 5.6 æœç´¢èƒ½åŠ›

```python
import weaviate

# è¿æ¥ Weaviate Cloud
client = weaviate.connect_to_wcs(
    cluster_url="YOUR_WCS_URL",
    auth_credentials=weaviate.auth.AuthApiKey("YOUR_API_KEY")
)

# åˆ›å»º Collectionï¼ˆè‡ªåŠ¨å‘é‡åŒ–ï¼‰
collection = client.collections.create(
    name="Article",
    vectorizer_config=weaviate.Configure.Vectorizer.text2vec_openai()
)

# æ’å…¥æ•°æ®ï¼ˆè‡ªåŠ¨ç”Ÿæˆå‘é‡ï¼‰
collection.data.insert({
    "title": "AI æŠ€æœ¯å‘å±•",
    "content": "äººå·¥æ™ºèƒ½æ­£åœ¨æ”¹å˜ä¸–ç•Œ..."
})

# è¯­ä¹‰æœç´¢
results = collection.query.near_text(
    query="æœºå™¨å­¦ä¹ çš„æœªæ¥",
    limit=5
)

# æ··åˆæœç´¢ï¼ˆå‘é‡ + BM25ï¼‰
results = collection.query.hybrid(
    query="AI applications",
    alpha=0.5,  # 0 = BM25, 1 = å‘é‡
    limit=5
)
```

**æœç´¢åŠŸèƒ½çŸ©é˜µ**ï¼š

| åŠŸèƒ½           | æè¿°                  | æ”¯æŒæƒ…å†µ |
| -------------- | --------------------- | -------- |
| **å‘é‡æœç´¢**   | near_text/near_vector | âœ…       |
| **BM25 æœç´¢**  | å…³é”®è¯æœç´¢            | âœ…       |
| **æ··åˆæœç´¢**   | å‘é‡ + BM25 èåˆ      | âœ…       |
| **ç”Ÿæˆå¼æœç´¢** | RAG å†…ç½®æ”¯æŒ          | âœ…       |
| **è¿‡æ»¤æœç´¢**   | å±æ€§æ¡ä»¶è¿‡æ»¤          | âœ…       |
| **åˆ†ç»„èšåˆ**   | Group by              | âœ…       |

### 5.7 éƒ¨ç½²é€‰é¡¹

| éƒ¨ç½²æ–¹å¼           | é€‚ç”¨åœºæ™¯   | ç‰¹ç‚¹                   |
| ------------------ | ---------- | ---------------------- |
| **Weaviate Cloud** | ç”Ÿäº§ç¯å¢ƒ   | å®Œå…¨æ‰˜ç®¡ï¼ŒSandbox å…è´¹ |
| **Docker**         | æœ¬åœ°å¼€å‘   | æ”¯æŒæœ¬åœ°æ¨ç†å®¹å™¨       |
| **Kubernetes**     | è‡ªæ‰˜ç®¡ç”Ÿäº§ | é«˜å¯ç”¨ï¼Œé›¶åœæœºæ›´æ–°     |
| **Embedded**       | å¿«é€Ÿè¯„ä¼°   | Python/JS ç›´æ¥å¯åŠ¨     |

### 5.8 å‘é‡é‡åŒ–æŠ€æœ¯<sup>[[25]](#ref25)</sup>

Weaviate æ”¯æŒå››ç§å‘é‡å‹ç¼©æ–¹æ³•ï¼š

| é‡åŒ–æ–¹æ³•                         | å‹ç¼©æ¯” | å¬å›å½±å“ | ç‰¹ç‚¹                  |
| -------------------------------- | ------ | -------- | --------------------- |
| **PQ** (Product Quantization)    | ~24x   | ä¸­ç­‰     | éœ€è¦è®­ç»ƒï¼Œé€‚ç”¨ HNSW   |
| **BQ** (Binary Quantization)     | 32x    | è¾ƒå¤§     | æ— è®­ç»ƒï¼ŒV3 æ¨¡å‹æ•ˆæœå¥½ |
| **SQ** (Scalar Quantization)     | 4x     | è¾ƒå°     | 8-bit å‹ç¼©ï¼Œ256 ä¸ªæ¡¶  |
| **RQ** (Rotational Quantization) | 4x/32x | è¾ƒå°     | æ— è®­ç»ƒï¼Œå³æ—¶å¯ç”¨      |

```python
# å¯ç”¨ SQ å‹ç¼©ï¼ˆæ¨èï¼‰
collection = client.collections.create(
    name="Article",
    vectorizer_config=weaviate.Configure.Vectorizer.text2vec_openai(),
    vector_index_config=weaviate.Configure.VectorIndex.hnsw(
        quantizer=weaviate.Configure.VectorIndex.Quantizer.sq()
    )
)
```

> **æç¤º**ï¼šWeaviate ä½¿ç”¨**è¿‡åº¦è·å– + é‡æ’åº**ç­–ç•¥æ¥å¼¥è¡¥é‡åŒ–å¯¼è‡´çš„ç²¾åº¦æŸå¤±ã€‚

### 5.9 é›†ç¾¤æ¶æ„<sup>[[26]](#ref26)</sup>

Weaviate é‡‡ç”¨ **Raft + Leaderless** æ··åˆæ¶æ„ï¼š

```mermaid
graph TB
    subgraph "å…ƒæ•°æ®å¤åˆ¶ - Raft å…±è¯†"
        Leader[Leader èŠ‚ç‚¹]
        Follower1[Follower èŠ‚ç‚¹]
        Follower2[Follower èŠ‚ç‚¹]
    end

    subgraph "æ•°æ®å¤åˆ¶ - Leaderless"
        N1[Node 1]
        N2[Node 2]
        N3[Node 3]
    end

    Client[å®¢æˆ·ç«¯] --> Coordinator[åè°ƒèŠ‚ç‚¹]
    Coordinator --> N1 & N2 & N3

    style Leader fill:#4285f4,color:#fff
    style Coordinator fill:#34a853,color:#fff
```

| ç»„ä»¶       | åè®®                      | ç‰¹ç‚¹                  |
| ---------- | ------------------------- | --------------------- |
| **å…ƒæ•°æ®** | Raft                      | å¼ºä¸€è‡´æ€§ï¼ŒLeader é€‰ä¸¾ |
| **æ•°æ®**   | Leaderless (Dynamo-style) | é«˜å¯ç”¨ï¼Œæœ€ç»ˆä¸€è‡´æ€§    |

**ä¸€è‡´æ€§å¯è°ƒ**ï¼šé€šè¿‡ Replication Factor å’Œ Consistency Level å¹³è¡¡å¯ç”¨æ€§ä¸ä¸€è‡´æ€§ã€‚

## 6. Pinecone

### 6.1 äº§å“æ¦‚è¿°

Pinecone æ˜¯ä¸€æ¬¾å…¨æ‰˜ç®¡çš„å‘é‡æ•°æ®åº“æœåŠ¡ï¼Œä¸“ä¸ºç”Ÿäº§ç¯å¢ƒä¸­çš„ AI åº”ç”¨è®¾è®¡<sup>[[16]](#ref16)</sup>ã€‚å®ƒæä¾› Serverless æ¶æ„ï¼Œç”¨æˆ·æ— éœ€ç®¡ç†åŸºç¡€è®¾æ–½å³å¯ä½¿ç”¨é«˜æ€§èƒ½å‘é‡æœç´¢ã€‚

**æ ¸å¿ƒå®šä½**ï¼šé›¶è¿ç»´ã€é«˜æ€§èƒ½çš„å…¨æ‰˜ç®¡å‘é‡æ•°æ®åº“ SaaS æœåŠ¡ã€‚

```mermaid
graph TB
    subgraph "Pinecone äº§å“çº¿"
        DB[Pinecone Database<br/>å‘é‡æ•°æ®åº“]
        AS[Pinecone Assistant<br/>AI åŠ©æ‰‹]
        INF[Integrated Inference<br/>å†…ç½®åµŒå…¥]
    end

    DB --> AS
    DB --> INF

    style DB fill:#5048E5,color:#fff
    style AS fill:#8B5CF6,color:#fff
```

### 6.2 æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§           | æè¿°                | ä¼˜åŠ¿              |
| -------------- | ------------------- | ----------------- |
| **å…¨æ‰˜ç®¡**     | Serverless æ¶æ„     | é›¶è¿ç»´ï¼ŒæŒ‰éœ€æ‰©å±•  |
| **é›†æˆåµŒå…¥**   | å†…ç½® Embedding æ¨¡å‹ | ç®€åŒ–å¼€å‘æµç¨‹      |
| **å‘½åç©ºé—´**   | å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»      | å•ç´¢å¼•å¤šåˆ†åŒº      |
| **å…ƒæ•°æ®è¿‡æ»¤** | æ ‡é‡å±æ€§è¿‡æ»¤        | å‘é‡ + ç»“æ„åŒ–æŸ¥è¯¢ |
| **é‡æ’åº**     | å†…ç½® Reranker       | æå‡æ£€ç´¢ç²¾åº¦      |

### 6.3 ç´¢å¼•ç±»å‹

Pinecone æ”¯æŒä¸¤ç§ç´¢å¼•ç±»å‹<sup>[[17]](#ref17)</sup>ï¼š

| ç´¢å¼•ç±»å‹         | æè¿°         | é€‚ç”¨åœºæ™¯          |
| ---------------- | ------------ | ----------------- |
| **Dense Index**  | ç¨ å¯†å‘é‡ç´¢å¼• | è¯­ä¹‰æœç´¢ï¼ˆä¸»æµï¼‰  |
| **Sparse Index** | ç¨€ç–å‘é‡ç´¢å¼• | BM25 ç±»å…³é”®è¯æœç´¢ |

```python
from pinecone import Pinecone

# åˆå§‹åŒ–å®¢æˆ·ç«¯
pc = Pinecone(api_key="YOUR_API_KEY")

# åˆ›å»º Dense Indexï¼ˆå¸¦é›†æˆåµŒå…¥ï¼‰
pc.create_index_for_model(
    name="my-index",
    cloud="aws",
    region="us-east-1",
    embed={
        "model": "llama-text-embed-v2",
        "field_map": {"text": "chunk_text"}
    }
)

# åˆ›å»º Sparse Index
pc.create_index(
    name="sparse-index",
    dimension=None,  # Sparse æ— éœ€æŒ‡å®š
    metric="dotproduct",
    spec=ServerlessSpec(cloud="aws", region="us-east-1")
)
```

### 6.4 å‘½åç©ºé—´ä¸å¤šç§Ÿæˆ·

Pinecone ä½¿ç”¨å‘½åç©ºé—´å®ç°æ•°æ®éš”ç¦»<sup>[[18]](#ref18)</sup>ï¼š

```mermaid
graph TB
    subgraph "Index"
        NS1[Namespace: tenant_a]
        NS2[Namespace: tenant_b]
        NS3[Namespace: tenant_c]
    end

    App[åº”ç”¨ç¨‹åº] --> NS1 & NS2 & NS3

    style NS1 fill:#4285f4,color:#fff
    style NS2 fill:#34a853,color:#fff
    style NS3 fill:#fbbc04,color:#000
```

- æ¯ä¸ªç´¢å¼•æœ€å¤š **100,000** ä¸ªå‘½åç©ºé—´
- æŸ¥è¯¢å’Œå†™å…¥æ“ä½œæŒ‡å®šå‘½åç©ºé—´
- å®ç°å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»

### 6.5 æœç´¢ä¸è¿‡æ»¤

```python
# è¿æ¥ç´¢å¼•
index = pc.Index("my-index")

# æ–‡æœ¬æœç´¢ï¼ˆé›†æˆåµŒå…¥ï¼‰
results = index.query(
    data={"inputs": {"text": "What is machine learning?"}},
    top_k=10,
    include_metadata=True
)

# å¸¦å…ƒæ•°æ®è¿‡æ»¤çš„æœç´¢
results = index.query(
    vector=[0.1, 0.2, ...],
    top_k=10,
    filter={"genre": {"$eq": "technology"}}
)

# æ··åˆæœç´¢ï¼ˆéœ€è¦åŒæ—¶ä½¿ç”¨ Dense + Sparse ç´¢å¼•ï¼‰
```

**è¿‡æ»¤æ“ä½œç¬¦**ï¼š

| æ“ä½œç¬¦ | æè¿°   | ç¤ºä¾‹                             |
| ------ | ------ | -------------------------------- |
| `$eq`  | ç­‰äº   | `{"field": {"$eq": "value"}}`    |
| `$ne`  | ä¸ç­‰äº | `{"field": {"$ne": "value"}}`    |
| `$gt`  | å¤§äº   | `{"field": {"$gt": 10}}`         |
| `$in`  | åŒ…å«äº | `{"field": {"$in": ["a", "b"]}}` |
| `$and` | é€»è¾‘ä¸ | `{"$and": [cond1, cond2]}`       |
| `$or`  | é€»è¾‘æˆ– | `{"$or": [cond1, cond2]}`        |

### 6.6 å®šä»·æ¨¡å¼

| è®¡åˆ’           | è´¹ç”¨   | ç‰¹ç‚¹     | é™åˆ¶               |
| -------------- | ------ | -------- | ------------------ |
| **Starter**    | å…è´¹   | å…¥é—¨ä½“éªŒ | 1 ä¸ªåŒºåŸŸï¼Œæœ‰é™é¢åº¦ |
| **Standard**   | æŒ‰ç”¨é‡ | ç”Ÿäº§çº§   | æ›´é«˜é™åˆ¶           |
| **Enterprise** | è‡ªå®šä¹‰ | ä¼ä¸šçº§   | å®šåˆ¶åŒ–æ”¯æŒ         |

### 6.7 ä¼˜åŠ£åŠ¿åˆ†æ

**ä¼˜åŠ¿**ï¼š

- âœ… é›¶è¿ç»´ï¼Œå¼€ç®±å³ç”¨
- âœ… é«˜å¯ç”¨ï¼Œè‡ªåŠ¨æ‰©å±•
- âœ… é›†æˆåµŒå…¥å’Œé‡æ’åº
- âœ… ä¼ä¸šçº§ SLA ä¿éšœ

**åŠ£åŠ¿**ï¼š

- âŒ ä»… SaaSï¼Œæ— æ³•ç§æœ‰éƒ¨ç½²
- âŒ æˆæœ¬è¾ƒé«˜ï¼ˆå¤§è§„æ¨¡åœºæ™¯ï¼‰
- âŒ æ•°æ®éœ€ä¼ è¾“åˆ°äº‘ç«¯
- âŒ åŠŸèƒ½ç›¸å¯¹ç®€å•

### 6.8 æ··åˆæœç´¢<sup>[[27]](#ref27)</sup>

Pinecone æ”¯æŒä¸¤ç§æ··åˆæœç´¢å®ç°æ–¹å¼ï¼š

| æ–¹å¼                   | ä¼˜åŠ¿                                 | åŠ£åŠ¿                               |
| ---------------------- | ------------------------------------ | ---------------------------------- |
| **åŒç´¢å¼•æ–¹å¼**ï¼ˆæ¨èï¼‰ | çµæ´»ã€æ”¯æŒå•ç‹¬ sparse æŸ¥è¯¢ã€å¤šçº§é‡æ’ | éœ€ç®¡ç†ä¸¤ä¸ªç´¢å¼•                     |
| **å•æ··åˆç´¢å¼•**         | å®ç°ç®€å•                             | ä¸æ”¯æŒ sparse-onlyã€ä¸æ”¯æŒé›†æˆåµŒå…¥ |

```python
# åŒç´¢å¼•æ··åˆæœç´¢
# 1. åˆ›å»º Dense + Sparse ç´¢å¼•
pc.create_index_for_model(
    name="dense-index",
    cloud="aws", region="us-east-1",
    embed={"model": "llama-text-embed-v2", "field_map": {"text": "chunk_text"}}
)
pc.create_index_for_model(
    name="sparse-index",
    cloud="aws", region="us-east-1",
    embed={"model": "pinecone-sparse-english-v0", "field_map": {"text": "chunk_text"}}
)

# 2. åˆ†åˆ«æŸ¥è¯¢åä½¿ç”¨ RRF èåˆç»“æœ
```

### 6.9 é‡æ’åº<sup>[[28]](#ref28)</sup>

Pinecone æ”¯æŒé›†æˆé‡æ’åºå’Œç‹¬ç«‹é‡æ’åºï¼š

```python
# é›†æˆé‡æ’åº - åœ¨ search ä¸­ç›´æ¥ä½¿ç”¨
ranked_results = index.search(
    namespace="example-namespace",
    query={"inputs": {"text": "Disease prevention"}, "top_k": 4},
    rerank={
        "model": "bge-reranker-v2-m3",
        "top_n": 2,
        "rank_fields": ["chunk_text"]
    },
    fields=["category", "chunk_text"]
)
```

**å¯ç”¨é‡æ’åºæ¨¡å‹**ï¼š

| æ¨¡å‹                 | æœ€å¤§ Token | æœ€å¤§æ–‡æ¡£æ•° | ç‰¹ç‚¹                  |
| -------------------- | ---------- | ---------- | --------------------- |
| `cohere-rerank-3.5`  | 40,000     | 200        | é«˜ç²¾åº¦ã€å¤šå­—æ®µæ”¯æŒ    |
| `bge-reranker-v2-m3` | 1,024      | 100        | å¹³è¡¡æ€§èƒ½ä¸ç²¾åº¦        |
| `pinecone-rerank-v0` | 512        | 100        | Pinecone è‡ªç ”ã€ä½å»¶è¿Ÿ |

---

## 7. ç³»ç»Ÿæ€§å¯¹æ¯”åˆ†æ

### 7.1 æ ¸å¿ƒèƒ½åŠ›å¯¹æ¯”çŸ©é˜µ

| ç»´åº¦          | PGVector     | VectorChord | Milvus           | Weaviate     | Pinecone    |
| ------------- | ------------ | ----------- | ---------------- | ------------ | ----------- |
| **å¼€æºåè®®**  | PostgreSQL   | AGPLv3/ELv2 | Apache 2.0       | BSD-3        | å•†ä¸š        |
| **éƒ¨ç½²æ¨¡å¼**  | å•æœº/é›†ç¾¤    | å•æœº/é›†ç¾¤   | åˆ†å¸ƒå¼/æ‰˜ç®¡      | åˆ†å¸ƒå¼/æ‰˜ç®¡  | ä»…æ‰˜ç®¡      |
| **æœ€å¤§ç»´åº¦**  | 2,000 (HNSW) | 60,000      | 32,768           | æ— é™åˆ¶       | 20,000      |
| **å‘é‡ç´¢å¼•**  | HNSW/IVF     | RaBitQ/HNSW | IVF/HNSW/DiskANN | HNSW/Flat    | ä¸“æœ‰ç®—æ³•    |
| **ACID äº‹åŠ¡** | âœ… å®Œæ•´      | âœ… å®Œæ•´     | âŒ ä¸æ”¯æŒ        | âŒ ä¸æ”¯æŒ    | âŒ ä¸æ”¯æŒ   |
| **æ··åˆæœç´¢**  | âœ… å…¨æ–‡æ£€ç´¢  | âœ… å…¨æ–‡æ£€ç´¢ | âœ… BM25          | âœ… BM25+å‘é‡ | âš ï¸ éœ€åŒç´¢å¼• |
| **å†…ç½®åµŒå…¥**  | âŒ           | âŒ          | âš ï¸ pymilvus      | âœ… å¤šæ¨¡å—    | âœ… é›†æˆ     |
| **GPU åŠ é€Ÿ**  | âŒ           | âŒ          | âœ… CAGRA         | âŒ           | âŒ          |

### 7.2 æ€§èƒ½å¯¹æ¯”

```mermaid
graph LR
    subgraph "QPS æ€§èƒ½ï¼ˆç›¸å¯¹å€¼ï¼‰"
        VC[VectorChord] --> |5x| PGV[PGVector]
        MV[Milvus] --> |2-5x| Others[å…¶ä»–å‘é‡æ•°æ®åº“]
    end

    style VC fill:#52c41a,color:#fff
    style MV fill:#00A1EA,color:#fff
```

| äº§å“            | 1M 768D QPS | å¬å›ç‡@95% | ç´¢å¼•æ„å»º | å†…å­˜æ•ˆç‡ |
| --------------- | ----------- | ---------- | -------- | -------- |
| **PGVector**    | ~1,000      | â˜…â˜…â˜…â˜…â˜†      | â˜…â˜…â˜…â˜†â˜†    | â˜…â˜…â˜…â˜†â˜†    |
| **VectorChord** | ~5,000      | â˜…â˜…â˜…â˜…â˜†      | â˜…â˜…â˜…â˜…â˜…    | â˜…â˜…â˜…â˜…â˜…    |
| **Milvus**      | ~10,000+    | â˜…â˜…â˜…â˜…â˜…      | â˜…â˜…â˜…â˜…â˜†    | â˜…â˜…â˜…â˜…â˜†    |
| **Weaviate**    | ~5,000      | â˜…â˜…â˜…â˜…â˜†      | â˜…â˜…â˜…â˜…â˜†    | â˜…â˜…â˜…â˜…â˜†    |
| **Pinecone**    | ~5,000      | â˜…â˜…â˜…â˜…â˜†      | N/A      | N/A      |

### 7.3 æˆæœ¬å¯¹æ¯”

| äº§å“            | 100K å‘é‡    | 1M å‘é‡      | 10M å‘é‡        | 100M å‘é‡        |
| --------------- | ------------ | ------------ | --------------- | ---------------- |
| **PGVector**    | $0ï¼ˆè‡ªæ‰˜ç®¡ï¼‰ | $0ï¼ˆè‡ªæ‰˜ç®¡ï¼‰ | $0ï¼ˆè‡ªæ‰˜ç®¡ï¼‰    | $0ï¼ˆè‡ªæ‰˜ç®¡ï¼‰     |
| **VectorChord** | $0.25        | $2.5         | $25             | $250             |
| **Milvus**      | $0ï¼ˆè‡ªæ‰˜ç®¡ï¼‰ | $0ï¼ˆè‡ªæ‰˜ç®¡ï¼‰ | Zilliz: ~$50/æœˆ | Zilliz: ~$500/æœˆ |
| **Weaviate**    | å…è´¹ Sandbox | WCS: ~$25/æœˆ | WCS: ~$100/æœˆ   | è‡ªå®šä¹‰           |
| **Pinecone**    | å…è´¹ Starter | ~$70/æœˆ      | ~$300/æœˆ        | ä¼ä¸šå®šä»·         |

> âš ï¸ ä»¥ä¸Šä»·æ ¼ä¸ºä¼°ç®—å‚è€ƒï¼Œå®é™…ä»·æ ¼è¯·ä»¥å®˜æ–¹å®šä»·ä¸ºå‡†ã€‚

### 7.4 è¿ç»´å¤æ‚åº¦å¯¹æ¯”

```mermaid
graph LR
    subgraph "è¿ç»´å¤æ‚åº¦"
        PC[Pinecone<br/>â˜…â˜†â˜†â˜†â˜†]
        WCS[Weaviate Cloud<br/>â˜…â˜†â˜†â˜†â˜†]
        ZC[Zilliz Cloud<br/>â˜…â˜†â˜†â˜†â˜†]
        PGV[PGVector<br/>â˜…â˜…â˜†â˜†â˜†]
        VC[VectorChord<br/>â˜…â˜…â˜†â˜†â˜†]
        WD[Weaviate Docker<br/>â˜…â˜…â˜…â˜†â˜†]
        MS[Milvus Standalone<br/>â˜…â˜…â˜…â˜†â˜†]
        MD[Milvus Distributed<br/>â˜…â˜…â˜…â˜…â˜…]
    end

    style PC fill:#52c41a,color:#fff
    style MD fill:#ea4335,color:#fff
```

### 7.5 ç”Ÿæ€é›†æˆå¯¹æ¯”

| æ¡†æ¶/å·¥å…·      | PGVector | VectorChord | Milvus   | Weaviate        | Pinecone |
| -------------- | -------- | ----------- | -------- | --------------- | -------- |
| **LangChain**  | âœ…       | âœ…          | âœ…       | âœ…              | âœ…       |
| **LlamaIndex** | âœ…       | âœ…          | âœ…       | âœ…              | âœ…       |
| **Haystack**   | âœ…       | âš ï¸          | âœ…       | âœ…              | âœ…       |
| **AutoGPT**    | âš ï¸       | âš ï¸          | âœ…       | âœ…              | âœ…       |
| **Cognee**     | âœ…       | âš ï¸          | âœ…       | âœ…              | âœ…       |
| **Python SDK** | psycopg2 | psycopg2    | pymilvus | weaviate-client | pinecone |

---

## 8. åœºæ™¯æ¨èä¸é€‰å‹æŒ‡å—

### 8.1 å†³ç­–æµç¨‹å›¾

```mermaid
flowchart TD
    Start[å¼€å§‹é€‰å‹] --> Q1{å·²æœ‰ PostgreSQL?}

    Q1 --> |æ˜¯| Q2{æ€§èƒ½è¦æ±‚é«˜?}
    Q1 --> |å¦| Q3{éœ€è¦ç§æœ‰éƒ¨ç½²?}

    Q2 --> |æ˜¯| VC[VectorChord]
    Q2 --> |å¦| PGV[PGVector]

    Q3 --> |æ˜¯| Q4{æ•°æ®è§„æ¨¡?}
    Q3 --> |å¦| Q5{é¢„ç®—æ•æ„Ÿ?}

    Q4 --> |< 10M| WV[Weaviate]
    Q4 --> |> 10M| MV[Milvus]

    Q5 --> |æ˜¯| MV2[Milvus/Weaviate<br/>è‡ªæ‰˜ç®¡]
    Q5 --> |å¦| PC[Pinecone]

    style VC fill:#336791,color:#fff
    style PGV fill:#336791,color:#fff
    style MV fill:#00A1EA,color:#fff
    style WV fill:#38b2ac,color:#fff
    style PC fill:#5048E5,color:#fff
```

### 8.2 åœºæ™¯æ¨èçŸ©é˜µ

| åœºæ™¯                     | é¦–é€‰æ–¹æ¡ˆ        | å¤‡é€‰æ–¹æ¡ˆ       | ç†ç”±                   |
| ------------------------ | --------------- | -------------- | ---------------------- |
| **å·²æœ‰ PostgreSQL ç³»ç»Ÿ** | VectorChord     | PGVector       | é›¶è¿ç§»æˆæœ¬ï¼Œæ•°æ®ä¸€è‡´æ€§ |
| **å¿«é€ŸåŸå‹å¼€å‘**         | Pinecone        | Weaviate Cloud | é›¶è¿ç»´ï¼Œå¿«é€Ÿä¸Šæ‰‹       |
| **å¤§è§„æ¨¡ç”Ÿäº§ç³»ç»Ÿ**       | Milvus          | Weaviate       | åˆ†å¸ƒå¼æ¶æ„ï¼Œé«˜å¯æ‰©å±•   |
| **AI-Native åº”ç”¨**       | Weaviate        | Milvus         | å†…ç½®å‘é‡åŒ–ï¼ŒRAG æ”¯æŒ   |
| **æˆæœ¬æ•æ„Ÿå‹**           | PGVector/Milvus | VectorChord    | å¼€æºå…è´¹ï¼Œè‡ªæ‰˜ç®¡       |
| **ä¼ä¸šåˆè§„è¦æ±‚**         | Milvus/Weaviate | VectorChord    | ç§æœ‰éƒ¨ç½²ï¼Œæ•°æ®ä¸»æƒ     |
| **å¤šç§Ÿæˆ· SaaS**          | Pinecone        | Weaviate Cloud | å‘½åç©ºé—´éš”ç¦»           |

### 8.3 æœ¬é¡¹ç›®æ¨èæ–¹æ¡ˆ

åŸºäºæœ¬é¡¹ç›®ï¼ˆAgentic AI å­¦æœ¯ç ”ç©¶ä¸å·¥ç¨‹åº”ç”¨æ–¹æ¡ˆå®šåˆ¶ï¼‰çš„éœ€æ±‚åˆ†æï¼š

| éœ€æ±‚ç»´åº¦        | æœ¬é¡¹ç›®è¦æ±‚                  | åŒ¹é…è¯„ä¼°                 |
| --------------- | --------------------------- | ------------------------ |
| **æ•°æ®è§„æ¨¡**    | åˆæœŸ < 1Mï¼Œé•¿æœŸ > 10M       | Milvus æ”¯æŒç™¾äº¿çº§æ‰©å±•    |
| **æ··åˆæ£€ç´¢**    | å‘é‡ + å…¨æ–‡ + å›¾è°±          | Milvus BM25 + Neo4j å›¾è°± |
| **å¤šæ¨¡æ€æ”¯æŒ**  | æ–‡æœ¬ã€ä»£ç ã€å›¾åƒ            | Milvus å¤šå‘é‡å­—æ®µ        |
| **AI æ¡†æ¶é›†æˆ** | LangChain/LlamaIndex/Cognee | Milvus å…¨è¦†ç›–            |
| **å¼€å‘ä¾¿æ·æ€§**  | æœ¬åœ°å¼€å‘å¿«é€Ÿè¿­ä»£            | Milvus Lite åµŒå…¥å¼       |
| **ç”Ÿäº§éƒ¨ç½²**    | ç§æœ‰åŒ–ã€é«˜å¯ç”¨              | Milvus Distributed       |

> **æ¨èæ–¹æ¡ˆ**ï¼šé€‰æ‹© **Milvus** ä½œä¸ºæœ¬é¡¹ç›®çš„å‘é‡æ•°æ®åº“æ–¹æ¡ˆã€‚

**é€‰æ‹©ç†ç”±**ï¼š

1. **å¼€å‘æµ‹è¯•ä¾¿æ·**ï¼šMilvus Lite æ”¯æŒçº¯ Python åµŒå…¥å¼è¿è¡Œï¼Œæ— éœ€ Docker
2. **å¹³æ»‘æ‰©å±•**ï¼šä» Lite â†’ Standalone â†’ Distributed æ— ç¼å‡çº§
3. **ç”Ÿæ€å®Œå–„**ï¼šLangChain/LlamaIndex/Cognee å…¨é¢æ”¯æŒ
4. **æ€§èƒ½ä¼˜ç§€**ï¼š10k+ QPSï¼Œæ”¯æŒ GPU åŠ é€Ÿ
5. **Apache 2.0**ï¼šå¼€æºåè®®å‹å¥½ï¼Œå¯å•†ç”¨

---

## 9. æœ¬é¡¹ç›®é›†æˆæ–¹æ¡ˆ

### 9.1 æŠ€æœ¯æ¶æ„æ¦‚è§ˆ

```mermaid
graph TB
    subgraph "æ•°æ®å±‚"
        MV[(Milvus<br/>å‘é‡æ£€ç´¢)]
        PG[(PostgreSQL<br/>å…³ç³»æ•°æ®)]
        Neo4j[(Neo4j<br/>çŸ¥è¯†å›¾è°±)]
    end

    subgraph "æ£€ç´¢å±‚"
        VEC[å‘é‡æ£€ç´¢<br/>Milvus HNSW/IVF]
        FTS[å…¨æ–‡æ£€ç´¢<br/>Milvus BM25]
        GRAPH[å›¾è°±æ£€ç´¢<br/>Neo4j Cypher]
    end

    subgraph "èåˆå±‚"
        RRF[RRF é‡æ’åº]
        LLM[LLM ç²¾æ’]
    end

    Query[ç”¨æˆ·æŸ¥è¯¢] --> VEC & FTS & GRAPH
    VEC & FTS & GRAPH --> RRF
    RRF --> LLM
    LLM --> Result[æ£€ç´¢ç»“æœ]

    style MV fill:#00A1EA,color:#fff
    style PG fill:#336791,color:#fff
    style Neo4j fill:#018bff,color:#fff
```

### 9.2 Milvus å‘é‡æ£€ç´¢å®ç°

#### 9.2.1 Collection è®¾è®¡

```python
from pymilvus import MilvusClient, DataType, FieldSchema, CollectionSchema

# ä½¿ç”¨ Milvus Liteï¼ˆæœ¬åœ°å¼€å‘ï¼‰æˆ–è¿æ¥è¿œç¨‹æœåŠ¡
client = MilvusClient("./agentic_ai.db")  # Lite æ¨¡å¼

# å®šä¹‰ Schema
fields = [
    FieldSchema(name="id", dtype=DataType.INT64, is_primary=True, auto_id=True),
    FieldSchema(name="source_id", dtype=DataType.INT64),
    FieldSchema(name="source_type", dtype=DataType.VARCHAR, max_length=50),
    FieldSchema(name="title", dtype=DataType.VARCHAR, max_length=500),
    FieldSchema(name="chunk_text", dtype=DataType.VARCHAR, max_length=65535),
    FieldSchema(name="embedding", dtype=DataType.FLOAT_VECTOR, dim=1536),
]

# åˆ›å»º Collection
client.create_collection(
    collection_name="source_embeddings",
    schema=CollectionSchema(fields, description="å­¦æœ¯èµ„æºå‘é‡åµŒå…¥"),
    index_params={
        "index_type": "HNSW",
        "metric_type": "COSINE",
        "params": {"M": 16, "efConstruction": 128}
    }
```

#### 9.2.2 å‘é‡æ£€ç´¢ä¸æ··åˆæœç´¢

```python
from pymilvus import MilvusClient
from openai import OpenAI

client = MilvusClient("./agentic_ai.db")
openai_client = OpenAI()

def get_embedding(text: str) -> list:
    """ç”Ÿæˆæ–‡æœ¬åµŒå…¥å‘é‡"""
    response = openai_client.embeddings.create(
        model="text-embedding-3-small",
        input=text
    )
    return response.data[0].embedding

def semantic_search(query: str, source_type: str = None, top_k: int = 10):
    """è¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢"""
    query_embedding = get_embedding(query)

    # æ„å»ºè¿‡æ»¤æ¡ä»¶
    filter_expr = f'source_type == "{source_type}"' if source_type else ""

    results = client.search(
        collection_name="source_embeddings",
        data=[query_embedding],
        limit=top_k,
        filter=filter_expr,
        output_fields=["title", "chunk_text", "source_type"]
    )
    return results

def hybrid_search(query: str, top_k: int = 10):
    """æ··åˆæœç´¢ï¼ˆå‘é‡ + BM25 å…¨æ–‡ï¼‰"""
    # Milvus 2.4+ æ”¯æŒ BM25 å…¨æ–‡æœç´¢
    from pymilvus import AnnSearchRequest, RRFRanker

    query_embedding = get_embedding(query)

    # å‘é‡æœç´¢è¯·æ±‚
    vector_req = AnnSearchRequest(
        data=[query_embedding],
        anns_field="embedding",
        param={"metric_type": "COSINE", "params": {"ef": 100}},
        limit=top_k * 2
    )

    # BM25 å…¨æ–‡æœç´¢è¯·æ±‚ï¼ˆéœ€è¦åœ¨ Collection ä¸­å¯ç”¨ BM25ï¼‰
    bm25_req = AnnSearchRequest(
        data=[query],
        anns_field="chunk_text",
        param={"metric_type": "BM25"},
        limit=top_k * 2
    )

    # ä½¿ç”¨ RRF èåˆç»“æœ
    results = client.hybrid_search(
        collection_name="source_embeddings",
        reqs=[vector_req, bm25_req],
        ranker=RRFRanker(k=60),
        limit=top_k,
        output_fields=["title", "chunk_text"]
    )
    return results
```

### 9.3 LlamaIndex é›†æˆç¤ºä¾‹

```python
from llama_index.core import VectorStoreIndex, Settings
from llama_index.vector_stores.milvus import MilvusVectorStore
from llama_index.embeddings.openai import OpenAIEmbedding

# é…ç½®åµŒå…¥æ¨¡å‹
Settings.embed_model = OpenAIEmbedding(model="text-embedding-3-small")

# è¿æ¥ Milvusï¼ˆæ”¯æŒ Lite / Standalone / Distributedï¼‰
vector_store = MilvusVectorStore(
    uri="./agentic_ai.db",  # Milvus Lite
    # uri="http://localhost:19530",  # Milvus Standalone
    collection_name="source_embeddings",
    dim=1536,
    overwrite=False
)

# åˆ›å»ºç´¢å¼•
index = VectorStoreIndex.from_vector_store(vector_store)

# RAG æŸ¥è¯¢
query_engine = index.as_query_engine(
    similarity_top_k=10,
    response_mode="tree_summarize"
)

response = query_engine.query(
    "ReAct å’Œ Chain-of-Thought æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"
)
print(response)
```

### 9.4 LangChain é›†æˆç¤ºä¾‹

```python
from langchain_milvus import Milvus
from langchain_openai import OpenAIEmbeddings, ChatOpenAI
from langchain.chains import RetrievalQA

# åˆå§‹åŒ–åµŒå…¥æ¨¡å‹
embeddings = OpenAIEmbeddings(model="text-embedding-3-small")

# è¿æ¥ Milvus å‘é‡å­˜å‚¨
vector_store = Milvus(
    embedding_function=embeddings,
    collection_name="source_embeddings",
    connection_args={
        "uri": "./agentic_ai.db"  # Milvus Lite
        # "uri": "http://localhost:19530"  # Milvus Standalone
    }
)

# åˆ›å»ºæ£€ç´¢å™¨
retriever = vector_store.as_retriever(
    search_type="similarity",
    search_kwargs={"k": 10}
)

# æ„å»º RAG é“¾
llm = ChatOpenAI(model="gpt-4o", temperature=0)
qa_chain = RetrievalQA.from_chain_type(
    llm=llm,
    chain_type="stuff",
    retriever=retriever,
    return_source_documents=True
)

# æ‰§è¡ŒæŸ¥è¯¢
result = qa_chain.invoke({"query": "ä»€ä¹ˆæ˜¯ Agentic RAGï¼Ÿ"})
print(result["result"])
```

### 9.5 Milvus å¤‡é€‰æ–¹æ¡ˆï¼ˆå¼€å‘æµ‹è¯•ï¼‰

```python
from pymilvus import MilvusClient

# ä½¿ç”¨ Milvus Lite è¿›è¡Œæœ¬åœ°å¼€å‘
client = MilvusClient("./milvus_demo.db")

# åˆ›å»º Collection
client.create_collection(
    collection_name="papers",
    dimension=1536,
    metric_type="COSINE"
)

# æ’å…¥æ•°æ®
client.insert(
    collection_name="papers",
    data=[
        {"id": 1, "vector": embedding, "title": "ReAct Paper", "abstract": "..."},
        # ...
    ]
)

# åˆ›å»ºç´¢å¼•
client.create_index(
    collection_name="papers",
    field_name="vector",
    index_type="HNSW",
    metric_type="COSINE",
    params={"M": 16, "efConstruction": 128}
)

# æœç´¢
results = client.search(
    collection_name="papers",
    data=[query_embedding],
    limit=10,
    output_fields=["title", "abstract"]
)
```

### 9.6 æ€§èƒ½ç›‘æ§ä¸è°ƒä¼˜

```sql
-- æŸ¥çœ‹ç´¢å¼•ä½¿ç”¨æƒ…å†µ
EXPLAIN (ANALYZE, BUFFERS)
SELECT * FROM source_embeddings
ORDER BY embedding <=> '[0.1, 0.2, ...]'::vector
LIMIT 10;

-- è°ƒæ•´ HNSW æœç´¢å‚æ•°
SET hnsw.ef_search = 100;  -- æå‡å¬å›ç‡

-- æ‰¹é‡æ•°æ®å¯¼å…¥åé‡å»ºç´¢å¼•
REINDEX INDEX CONCURRENTLY idx_source_embedding_hnsw;

-- æ¸…ç†ç¢ç‰‡
VACUUM ANALYZE source_embeddings;
```

---

## References

<a id="ref1"></a>[1] LlamaIndex, "Vector Databases in AI Applications," 2024. [Online]. Available: https://docs.llamaindex.ai/

<a id="ref2"></a>[2] pgvector, "Open-source vector similarity search for Postgres," _GitHub Repository_, 2024. [Online]. Available: https://github.com/pgvector/pgvector

<a id="ref3"></a>[3] Y. A. Malkov and D. A. Yashunin, "Efficient and robust approximate nearest neighbor search using hierarchical navigable small world graphs," _IEEE Trans. Pattern Anal. Mach. Intell._, vol. 40, no. 11, pp. 2529â€“2542, Nov. 2018.

<a id="ref4"></a>[4] H. JÃ©gou, M. Douze, and C. Schmid, "Product quantization for nearest neighbor search," _IEEE Trans. Pattern Anal. Mach. Intell._, vol. 33, no. 1, pp. 117â€“128, Jan. 2011.

<a id="ref5"></a>[5] TensorChord, "pgvecto.rs: Scalable Vector Search in Postgres," 2024. [Online]. Available: https://docs.vectorchord.ai/getting-started/overview.html

<a id="ref6"></a>[6] TensorChord, "VectorChord: High-Performance Vector Search," 2024. [Online]. Available: https://docs.vectorchord.ai/vectorchord/getting-started/overview.html

<a id="ref7"></a>[7] J. Gao and C. Long, "RaBitQ: Quantizing high-dimensional vectors with a theoretical error bound," _Proc. ACM Manag. Data_, vol. 2, no. 1, pp. 1â€“16, Jun. 2024.

<a id="ref8"></a>[8] TensorChord, "pgvector vs. pgvecto.rs Comparison," 2024. [Online]. Available: https://docs.vectorchord.ai/faqs/comparison-pgvector.html

<a id="ref9"></a>[9] Zilliz, "Milvus: The World's Most Advanced Open-Source Vector Database," 2024. [Online]. Available: https://milvus.io/docs/overview.md

<a id="ref10"></a>[10] Zilliz, "Milvus Architecture Overview," 2024. [Online]. Available: https://milvus.io/docs/architecture_overview.md

<a id="ref11"></a>[11] Zilliz, "Milvus Index Explained," 2024. [Online]. Available: https://milvus.io/docs/index-explained.md

<a id="ref12"></a>[12] Zilliz, "Milvus Performance Benchmarks," 2024. [Online]. Available: https://milvus.io/docs/benchmark.md

<a id="ref13"></a>[13] Weaviate, "The AI-Native Vector Database," 2024. [Online]. Available: https://docs.weaviate.io/weaviate/introduction

<a id="ref14"></a>[14] Weaviate, "Vector Indexing," 2024. [Online]. Available: https://docs.weaviate.io/weaviate/concepts/vector-index

<a id="ref15"></a>[15] Weaviate, "Model Providers," 2024. [Online]. Available: https://docs.weaviate.io/weaviate/model-providers

<a id="ref16"></a>[16] Pinecone, "The Vector Database for AI," 2024. [Online]. Available: https://docs.pinecone.io/guides/get-started/overview

<a id="ref17"></a>[17] Pinecone, "Indexing Overview," 2024. [Online]. Available: https://docs.pinecone.io/guides/index-data/indexing-overview

<a id="ref18"></a>[18] Pinecone, "Namespaces," 2024. [Online]. Available: https://docs.pinecone.io/guides/index-data/indexing-overview#namespaces

<a id="ref19"></a>[19] LlamaIndex, "Milvus Integration," 2024. [Online]. Available: https://docs.llamaindex.ai/en/stable/examples/vector_stores/MilvusIndexDemo/

<a id="ref20"></a>[20] LangChain, "Milvus Integration," 2024. [Online]. Available: https://python.langchain.com/docs/integrations/vectorstores/milvus/

<a id="ref21"></a>[21] Zilliz, "Milvus Lite: Lightweight Milvus for Local Development," 2024. [Online]. Available: https://milvus.io/docs/milvus_lite.md

<a id="ref22"></a>[22] pgvector, "Filtering and Iterative Scans," _GitHub Repository_, 2024. [Online]. Available: https://github.com/pgvector/pgvector#filtering

<a id="ref23"></a>[23] TensorChord, "VectorChord Graph Index," 2024. [Online]. Available: https://docs.vectorchord.ai/vectorchord/usage/graph-index.html

<a id="ref24"></a>[24] TensorChord, "VectorChord Prefilter," 2024. [Online]. Available: https://docs.vectorchord.ai/vectorchord/usage/prefilter.html

<a id="ref25"></a>[25] Weaviate, "Vector Quantization," 2024. [Online]. Available: https://docs.weaviate.io/weaviate/concepts/vector-quantization

<a id="ref26"></a>[26] Weaviate, "Cluster Architecture," 2024. [Online]. Available: https://docs.weaviate.io/weaviate/concepts/replication-architecture/cluster-architecture

<a id="ref27"></a>[27] Pinecone, "Hybrid Search," 2024. [Online]. Available: https://docs.pinecone.io/guides/search/hybrid-search

<a id="ref28"></a>[28] Pinecone, "Rerank Results," 2024. [Online]. Available: https://docs.pinecone.io/guides/search/rerank-results
