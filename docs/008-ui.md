# ğŸ–¥ï¸ Web UI å·¥ç¨‹æ–¹æ¡ˆ

## æ¦‚è¿°

åŸºäºç°æœ‰çš„ Agentic AI è®ºæ–‡å¹³å°åç«¯æ¶æ„ï¼Œè®¾è®¡å¹¶å®ç°ä¸€ä¸ªç°ä»£åŒ–çš„ Web UIï¼Œä¸ºä¸­æ–‡ç ”ç©¶è€…æä¾›ä¼˜é›…çš„è®ºæ–‡æ”¶é›†ã€ç¿»è¯‘å’Œåˆ†æç•Œé¢ã€‚æœ¬æ–¹æ¡ˆé‡‡ç”¨æœ€æ–°çš„ Next.js 16 æ¡†æ¶å’Œ NextAdmin v1.2.2 ç»„ä»¶åº“ï¼Œç¡®ä¿å“è¶Šçš„ç”¨æˆ·ä½“éªŒå’Œå¼€å‘æ•ˆç‡ã€‚

### å½“å‰çŠ¶æ€

âœ… **å·²å®ŒæˆåŸºç¡€è®¾æ–½**

- Next.js 16.0.10 å·²å®‰è£…å¹¶é…ç½®
- NextAdmin v1.2.2 å·²é›†æˆï¼ˆæä¾› 200+ UI ç»„ä»¶ï¼‰
- React 19.2.0ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼‰
- å®Œæ•´çš„ TypeScript æ”¯æŒ
- æ·±è‰²/æµ…è‰²ä¸»é¢˜å·²å®ç°
- å“åº”å¼å¸ƒå±€å·²å°±ç»ª

âš ï¸ **å¾…æ·»åŠ ä¾èµ–**

- Zustandï¼ˆçŠ¶æ€ç®¡ç†ï¼‰
- SWRï¼ˆæ•°æ®è·å–ï¼‰
- Axiosï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰

## æŠ€æœ¯é€‰å‹

### å‰ç«¯æ¡†æ¶ï¼ˆå·²éƒ¨ç½²ï¼‰

- **Next.js 16.0.10** âœ… å·²å®‰è£…
  - App Routerï¼ˆå·²ç¨³å®šï¼Œç”Ÿäº§å°±ç»ªï¼‰
  - Turbopackï¼ˆé»˜è®¤æ„å»ºå·¥å…·ï¼Œæ˜¾è‘—æå‡æ„å»ºé€Ÿåº¦ï¼‰
  - Server Componentsï¼ˆä¼˜åŒ–æœåŠ¡ç«¯æ¸²æŸ“ï¼‰
  - Partial Prerenderingï¼ˆPPRï¼Œä¼˜åŒ–å¯¼èˆªä½“éªŒï¼‰

### UI ç»„ä»¶åº“ï¼ˆå·²é›†æˆï¼‰

- **NextAdmin v1.2.2** âœ… å·²å®‰è£…
  - å®Œæ•´çš„ TypeScript æ”¯æŒ
  - æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢ï¼ˆå·²å®ç°ï¼‰
  - å“åº”å¼è®¾è®¡ï¼ˆå·²é…ç½®ï¼‰
  - 200+ é¢„æ„å»ºçš„ç®¡ç†ç»„ä»¶
  - è®¤è¯ç³»ç»Ÿç»„ä»¶
  - å›¾è¡¨ç»„ä»¶ï¼ˆApexChartsï¼‰
  - è¡¨æ ¼å’Œè¡¨å•ç»„ä»¶

### æ ¸å¿ƒä¾èµ–

#### å·²å®‰è£…ä¾èµ– âœ…

```json
{
  "dependencies": {
    "next": "16.0.10",
    "react": "19.2.0",
    "react-dom": "19.2.0",
    "next-themes": "^0.4.4",
    "apexcharts": "^4.5.0",
    "react-apexcharts": "^1.7.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "tailwind-merge": "^2.6.0",
    "dayjs": "^1.11.13",
    "flatpickr": "^4.6.13",
    "jsvectormap": "^1.6.0",
    "nextjs-toploader": "^3.7.15"
  }
}
```

#### å¾…æ·»åŠ ä¾èµ– âš ï¸

```bash
# ä½¿ç”¨ yarn å®‰è£…ï¼ˆé¡¹ç›®å½“å‰åŒ…ç®¡ç†å™¨ï¼‰
yarn add zustand axios swr react-pdf react-markdown remark-gfm react-syntax-highlighter date-fns
yarn add -D @types/react-pdf @types/react-syntax-highlighter
```

#### å®Œæ•´ä¾èµ–æ¸…å•

```json
{
  "dependencies": {
    "next": "16.0.10",
    "react": "19.2.0",
    "react-dom": "19.2.0",
    "next-themes": "^0.4.4",
    "apexcharts": "^4.5.0",
    "react-apexcharts": "^1.7.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "tailwind-merge": "^2.6.0",
    "dayjs": "^1.11.13",
    "flatpickr": "^4.6.13",
    "jsvectormap": "^1.6.0",
    "nextjs-toploader": "^3.7.15",
    "zustand": "^4.4.0",
    "axios": "^1.6.0",
    "swr": "^2.2.0",
    "react-pdf": "^7.5.0",
    "react-markdown": "^9.0.0",
    "remark-gfm": "^4.0.0",
    "react-syntax-highlighter": "^15.5.0",
    "date-fns": "^2.30.0"
  },
  "devDependencies": {
    "@types/node": "^20.0.0",
    "@types/react": "^18.0.0",
    "@types/react-dom": "^18.0.0",
    "@types/react-pdf": "^7.5.0",
    "@types/react-syntax-highlighter": "^15.5.0",
    "typescript": "^5.0.0",
    "eslint": "^8.0.0",
    "prettier": "^3.0.0"
  }
}
```

## é¡¹ç›®ç»“æ„ï¼ˆå½“å‰å®é™…ç»“æ„ï¼‰

```
ui/
â”œâ”€â”€ .env.example            # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ .gitignore
â”œâ”€â”€ components.json         # shadcn/ui é…ç½®
â”œâ”€â”€ next.config.mjs         # Next.js é…ç½®
â”œâ”€â”€ package.json            # é¡¹ç›®ä¾èµ–ï¼ˆä½¿ç”¨ yarnï¼‰
â”œâ”€â”€ tailwind.config.js      # Tailwind CSS é…ç½®
â”œâ”€â”€ tsconfig.json           # TypeScript é…ç½®
â”œâ”€â”€ yarn.lock               # Yarn é”å®šæ–‡ä»¶
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                 # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ [locale]/       # å›½é™…åŒ–è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ (auth)/     # è®¤è¯ç›¸å…³é¡µé¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ sign-in/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ sign-up/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/  # ä»ªè¡¨æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx  # æ ¹å¸ƒå±€ï¼ˆå·²é›†æˆ NextAdminï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ globals.css     # å…¨å±€æ ·å¼
â”‚   â”‚   â”œâ”€â”€ layout.tsx      # æ ¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ page.tsx        # é¦–é¡µ
â”‚   â”œâ”€â”€ components/         # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/            # NextAdmin åŸºç¡€ç»„ä»¶ï¼ˆå·²å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ Auth/          # è®¤è¯ç»„ä»¶ï¼ˆå·²å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ charts/        # å›¾è¡¨ç»„ä»¶ï¼ˆå·²å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ forms/         # è¡¨å•ç»„ä»¶ï¼ˆå·²å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ icons/         # å›¾æ ‡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/        # å¸ƒå±€ç»„ä»¶ï¼ˆå·²å®ç°ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ AppSidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ tables/        # è¡¨æ ¼ç»„ä»¶ï¼ˆå·²å®ç°ï¼‰
â”‚   â”‚   â””â”€â”€ widgets/       # å°éƒ¨ä»¶ç»„ä»¶
â”‚   â”œâ”€â”€ css/               # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ app.css        # åº”ç”¨æ ·å¼
â”‚   â”œâ”€â”€ fonts/             # å­—ä½“æ–‡ä»¶ï¼ˆSatoshiï¼‰
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰ Hooks
â”‚   â”œâ”€â”€ js/                # JavaScript å·¥å…·
â”‚   â”œâ”€â”€ lib/               # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ api.ts         # API å®¢æˆ·ç«¯ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ utils.ts       # é€šç”¨å·¥å…·
â”‚   â”‚   â””â”€â”€ constants.ts   # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ services/          # æœåŠ¡å±‚ï¼ˆå¾…å®ç°ï¼‰
â”‚   â”‚   â”œâ”€â”€ paperService.ts
â”‚   â”‚   â”œâ”€â”€ taskService.ts
â”‚   â”‚   â””â”€â”€ apiService.ts
â”‚   â”œâ”€â”€ store/             # çŠ¶æ€ç®¡ç†ï¼ˆå¾…æ·»åŠ  Zustandï¼‰
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ types/             # TypeScript ç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â””â”€â”€ public/                # é™æ€èµ„æº
    â”œâ”€â”€ images/
    â””â”€â”€ next.svg
```

### å¾…æ–°å¢ç›®å½•ç»“æ„

åŸºäºè®ºæ–‡å¹³å°éœ€æ±‚ï¼Œéœ€è¦åœ¨ç°æœ‰åŸºç¡€ä¸Šæ·»åŠ ï¼š

```
ui/src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ papers/            # è®ºæ–‡ç®¡ç†æ¨¡å—ï¼ˆå¾…æ–°å¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ page.tsx      # è®ºæ–‡åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ [id]/         # è®ºæ–‡è¯¦æƒ…
â”‚   â”‚   â””â”€â”€ upload/       # ä¸Šä¼ é¡µé¢
â”‚   â”œâ”€â”€ tasks/            # ä»»åŠ¡ç›‘æ§ï¼ˆå¾…æ–°å¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ page.tsx      # ä»»åŠ¡åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ [id]/         # ä»»åŠ¡è¯¦æƒ…
â”‚   â””â”€â”€ search/           # æœç´¢åŠŸèƒ½ï¼ˆå¾…æ–°å¢ï¼‰
â”‚       â””â”€â”€ page.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ papers/           # è®ºæ–‡ç»„ä»¶ï¼ˆå¾…æ–°å¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ PaperCard.tsx
â”‚   â”‚   â”œâ”€â”€ PaperList.tsx
â”‚   â”‚   â”œâ”€â”€ PaperViewer.tsx
â”‚   â”‚   â””â”€â”€ UploadZone.tsx
â”‚   â”œâ”€â”€ tasks/            # ä»»åŠ¡ç»„ä»¶ï¼ˆå¾…æ–°å¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ TaskCard.tsx
â”‚   â”‚   â”œâ”€â”€ TaskList.tsx
â”‚   â”‚   â””â”€â”€ TaskProgress.tsx
â”‚   â””â”€â”€ common/           # é€šç”¨ç»„ä»¶ï¼ˆå¾…æ–°å¢ï¼‰
â”‚       â”œâ”€â”€ LoadingSpinner.tsx
â”‚       â””â”€â”€ ErrorBoundary.tsx
â”œâ”€â”€ hooks/                # è‡ªå®šä¹‰ Hooksï¼ˆå¾…æ–°å¢ï¼‰
â”‚   â”œâ”€â”€ useApi.ts
â”‚   â”œâ”€â”€ useWebSocket.ts
â”‚   â””â”€â”€ useLocalStorage.ts
â””â”€â”€ store/               # Zustand çŠ¶æ€ç®¡ç†ï¼ˆå¾…æ–°å¢ï¼‰
    â”œâ”€â”€ slices/
    â”‚   â”œâ”€â”€ papersSlice.ts
    â”‚   â”œâ”€â”€ tasksSlice.ts
    â”‚   â””â”€â”€ uiSlice.ts
    â””â”€â”€ middleware/
```

## æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

### 1. è®ºæ–‡ç®¡ç† ğŸ“„

- **ä¸Šä¼ ç•Œé¢**

  - æ‹–æ‹½ä¸Šä¼ æ”¯æŒ
  - 50MB PDF æ–‡ä»¶é™åˆ¶
  - å®æ—¶ä¸Šä¼ è¿›åº¦
  - æ‰¹é‡ä¸Šä¼ åŠŸèƒ½

- **åˆ—è¡¨è§†å›¾**

  - è¡¨æ ¼å±•ç¤ºæ‰€æœ‰è®ºæ–‡
  - æ”¯æŒæ’åºï¼ˆæ ‡é¢˜ã€æ—¥æœŸã€çŠ¶æ€ï¼‰
  - é«˜çº§ç­›é€‰ï¼ˆåˆ†ç±»ã€çŠ¶æ€ã€æ—¥æœŸèŒƒå›´ï¼‰
  - åˆ†é¡µåŠ è½½ä¼˜åŒ–

- **è¯¦æƒ…è§†å›¾**

  - Tab åˆ‡æ¢ï¼šåŸæ–‡ / ç¿»è¯‘ / åˆ†æ
  - Markdown æ¸²æŸ“å™¨
  - PDF åµŒå…¥æŸ¥çœ‹
  - å¯¼å‡ºåŠŸèƒ½ï¼ˆPDF/Markdownï¼‰

- **æ‰¹é‡æ“ä½œ**
  - å¤šé€‰å¤„ç†
  - æ‰¹é‡ç¿»è¯‘/åˆ†æ
  - æ‰¹é‡ä¸‹è½½
  - æ‰¹é‡åˆ é™¤

### 2. ä»»åŠ¡ç›‘æ§ âš¡

- **å®æ—¶çŠ¶æ€**

  - WebSocket è¿æ¥ç®¡ç†
  - ä»»åŠ¡çŠ¶æ€å®æ—¶æ›´æ–°
  - è¿›åº¦æ¡å±•ç¤º
  - è‡ªåŠ¨é‡è¿æœºåˆ¶

- **ä»»åŠ¡ç®¡ç†**

  - ä»»åŠ¡åˆ—è¡¨æŸ¥çœ‹
  - å–æ¶ˆ/é‡è¯•åŠŸèƒ½
  - è¯¦ç»†æ—¥å¿—æŸ¥çœ‹
  - é”™è¯¯ä¿¡æ¯å±•ç¤º

- **æ‰¹é‡ä»»åŠ¡**
  - å¹¶å‘ä»»åŠ¡é˜Ÿåˆ—
  - æ•´ä½“è¿›åº¦å±•ç¤º
  - ä»»åŠ¡ä¼˜å…ˆçº§ç®¡ç†
  - èµ„æºä½¿ç”¨ç›‘æ§

### 3. æœç´¢å‘ç° ğŸ”

- **é«˜çº§æœç´¢**

  - å…¨æ–‡æœç´¢ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€æ‘˜è¦ã€å…³é”®è¯ï¼‰
  - æ¨¡ç³ŠåŒ¹é…
  - æœç´¢å»ºè®®
  - æœç´¢å†å²

- **æ™ºèƒ½ç­›é€‰**

  - æŒ‰åˆ†ç±»ç­›é€‰ï¼ˆLLM Agentsã€Context Engineering ç­‰ï¼‰
  - æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå·²ç¿»è¯‘ã€å¤„ç†ä¸­ã€å¾…å¤„ç†ï¼‰
  - æŒ‰æ—¥æœŸèŒƒå›´ç­›é€‰
  - ä¿å­˜ç­›é€‰æ¡ä»¶

- **ç»“æœå±•ç¤º**
  - å…³é”®è¯é«˜äº®
  - æ‘˜è¦é¢„è§ˆ
  - ç›¸å…³åº¦æ’åº
  - æœç´¢ç»“æœå¯¼å‡º

### 4. ä»ªè¡¨æ¿ ğŸ“Š

- **æ•°æ®ç»Ÿè®¡**

  - è®ºæ–‡æ€»æ•°å’Œåˆ†ç±»åˆ†å¸ƒ
  - ç¿»è¯‘è¿›åº¦ç»Ÿè®¡
  - ä»»åŠ¡çŠ¶æ€æ¦‚è§ˆ
  - ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡

- **æœ€è¿‘æ´»åŠ¨**

  - æœ€æ–°ä¸Šä¼ çš„è®ºæ–‡
  - æ­£åœ¨å¤„ç†çš„ä»»åŠ¡
  - ç³»ç»Ÿé€šçŸ¥
  - æ“ä½œå†å²

- **å¿«é€Ÿæ“ä½œ**
  - å¿«é€Ÿä¸Šä¼ å…¥å£
  - å¸¸ç”¨åŠŸèƒ½å¿«æ·é”®
  - æ‰¹é‡æ“ä½œé¢æ¿
  - ç³»ç»Ÿè®¾ç½®

## æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 1. API é›†æˆ

```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  async rewrites() {
    return [
      {
        source: "/api/:path*",
        destination: "http://localhost:8000/api/:path*",
      },
      {
        source: "/ws/:path*",
        destination: "http://localhost:8000/ws/:path*",
      },
    ];
  },
  images: {
    domains: ["localhost"],
  },
};

module.exports = nextConfig;
```

### 2. API å®¢æˆ·ç«¯è®¾è®¡

```typescript
// src/lib/api.ts
import axios from "axios";

const apiClient = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL || "http://localhost:8000",
  timeout: 30000,
});

// è¯·æ±‚æ‹¦æˆªå™¨
apiClient.interceptors.request.use(
  (config) => {
    // æ·»åŠ è®¤è¯å¤´ï¼ˆé¢„ç•™ï¼‰
    // config.headers.Authorization = `Bearer ${token}`
    return config;
  },
  (error) => Promise.reject(error)
);

// å“åº”æ‹¦æˆªå™¨
apiClient.interceptors.response.use(
  (response) => response.data,
  (error) => {
    // ç»Ÿä¸€é”™è¯¯å¤„ç†
    const message = error.response?.data?.detail || error.message;
    return Promise.reject(new Error(message));
  }
);

export const api = {
  // è®ºæ–‡ç›¸å…³
  papers: {
    list: (params?: any) => apiClient.get("/api/papers", { params }),
    get: (id: string) => apiClient.get(`/api/papers/${id}`),
    upload: (formData: FormData) =>
      apiClient.post("/api/papers", formData, {
        headers: { "Content-Type": "multipart/form-data" },
      }),
    process: (id: string, workflow: string, options?: any) =>
      apiClient.post(`/api/papers/${id}/process`, { workflow, options }),
    delete: (id: string) => apiClient.delete(`/api/papers/${id}`),
  },

  // ä»»åŠ¡ç›¸å…³
  tasks: {
    list: (params?: any) => apiClient.get("/api/tasks", { params }),
    get: (id: string) => apiClient.get(`/api/tasks/${id}`),
    cancel: (id: string) => apiClient.post(`/api/tasks/${id}/cancel`),
    logs: (id: string) => apiClient.get(`/api/tasks/${id}/logs`),
  },
};
```

### 3. çŠ¶æ€ç®¡ç† (Zustand)

```typescript
// src/store/index.ts
import { create } from "zustand";
import { devtools } from "zustand/middleware";

interface AppState {
  // è®ºæ–‡çŠ¶æ€
  papers: Paper[];
  currentPaper: Paper | null;
  papersLoading: boolean;
  papersError: string | null;

  // ä»»åŠ¡çŠ¶æ€
  tasks: Task[];
  currentTask: Task | null;
  taskUpdates: Map<string, TaskUpdate>;

  // UI çŠ¶æ€
  sidebarOpen: boolean;
  theme: "light" | "dark";
  notifications: Notification[];

  // Actions
  fetchPapers: () => Promise<void>;
  uploadPaper: (file: File) => Promise<string>;
  processPaper: (id: string, workflow: string) => Promise<void>;
  subscribeToTask: (taskId: string) => void;
  unsubscribeFromTask: (taskId: string) => void;
}

export const useAppStore = create<AppState>()(
  devtools((set, get) => ({
    // Initial state
    papers: [],
    currentPaper: null,
    papersLoading: false,
    papersError: null,

    tasks: [],
    currentTask: null,
    taskUpdates: new Map(),

    sidebarOpen: true,
    theme: "light",
    notifications: [],

    // Actions
    fetchPapers: async () => {
      set({ papersLoading: true, papersError: null });
      try {
        const papers = await api.papers.list();
        set({ papers, papersLoading: false });
      } catch (error) {
        set({ papersError: error.message, papersLoading: false });
      }
    },

    uploadPaper: async (file: File) => {
      const formData = new FormData();
      formData.append("file", file);
      const response = await api.papers.upload(formData);
      return response.task_id;
    },

    processPaper: async (id: string, workflow: string) => {
      const task = await api.papers.process(id, workflow);
      set((state) => ({
        tasks: [task, ...state.tasks],
      }));
      return task;
    },

    subscribeToTask: (taskId: string) => {
      // WebSocket è®¢é˜…é€»è¾‘
    },

    unsubscribeFromTask: (taskId: string) => {
      // WebSocket å–æ¶ˆè®¢é˜…
    },
  }))
);
```

### 4. NextAdmin ç»„ä»¶é›†æˆç¤ºä¾‹

#### è®ºæ–‡åˆ—è¡¨ç»„ä»¶

```typescript
// src/components/papers/PaperList.tsx
import { Table } from "@/components/ui/table";
import { Button } from "@/components/ui/button";
import { Badge } from "@/components/ui/badge";
import { Card } from "@/components/ui/card";

export function PaperList({ papers }: { papers: Paper[] }) {
  return (
    <Card>
      <Table>
        <Table.Header>
          <Table.Row>
            <Table.Head>æ ‡é¢˜</Table.Head>
            <Table.Head>ä½œè€…</Table.Head>
            <Table.Head>çŠ¶æ€</Table.Head>
            <Table.Head>ä¸Šä¼ æ—¶é—´</Table.Head>
            <Table.Head>æ“ä½œ</Table.Head>
          </Table.Row>
        </Table.Header>
        <Table.Body>
          {papers.map((paper) => (
            <Table.Row key={paper.id}>
              <Table.Cell className="font-medium">{paper.title}</Table.Cell>
              <Table.Cell>{paper.authors.join(", ")}</Table.Cell>
              <Table.Cell>
                <Badge
                  variant={
                    paper.status === "translated" ? "success" : "warning"
                  }
                >
                  {paper.status}
                </Badge>
              </Table.Cell>
              <Table.Cell>
                {new Date(paper.uploadedAt).toLocaleDateString()}
              </Table.Cell>
              <Table.Cell>
                <Button variant="outline" size="sm" asChild>
                  <Link href={`/papers/${paper.id}`}>æŸ¥çœ‹</Link>
                </Button>
              </Table.Cell>
            </Table.Row>
          ))}
        </Table.Body>
      </Table>
    </Card>
  );
}
```

#### ä»»åŠ¡è¿›åº¦ç»„ä»¶

```typescript
// src/components/tasks/TaskProgress.tsx
import { Progress } from "@/components/ui/progress";
import { Card } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";

export function TaskProgress({ task }: { task: Task }) {
  const progress = task.progress || 0;

  return (
    <Card>
      <div className="p-4">
        <div className="flex justify-between items-center mb-2">
          <h3 className="font-semibold">{task.title}</h3>
          <Badge variant={task.status === "completed" ? "success" : "info"}>
            {task.status}
          </Badge>
        </div>
        <Progress value={progress} className="mb-2" />
        <p className="text-sm text-muted-foreground">
          {task.message || "å¤„ç†ä¸­..."}
        </p>
      </div>
    </Card>
  );
}
```

#### ä»ªè¡¨æ¿ç»Ÿè®¡å¡ç‰‡

```typescript
// src/components/dashboard/StatsCard.tsx
import { Card } from "@/components/ui/card";
import { ApexChart } from "react-apexcharts";

export function StatsCard({ title, value, change, icon }: StatsCardProps) {
  return (
    <Card>
      <div className="p-6">
        <div className="flex items-center justify-between">
          <div>
            <p className="text-sm font-medium text-muted-foreground">{title}</p>
            <p className="text-2xl font-bold">{value}</p>
            {change && (
              <p
                className={`text-sm ${
                  change > 0 ? "text-green-600" : "text-red-600"
                }`}
              >
                {change > 0 ? "+" : ""}
                {change}%
              </p>
            )}
          </div>
          <div className="text-2xl text-muted-foreground">{icon}</div>
        </div>
      </div>
    </Card>
  );
}
```

#### æœç´¢è¡¨å•ç»„ä»¶

```typescript
// src/components/search/SearchForm.tsx
import { Input } from "@/components/ui/input";
import { Button } from "@/components/ui/button";
import { Select } from "@/components/ui/select";
import { Card } from "@/components/ui/card";

export function SearchForm() {
  return (
    <Card>
      <div className="p-4">
        <div className="grid grid-cols-1 md:grid-cols-4 gap-4">
          <Input placeholder="æœç´¢è®ºæ–‡æ ‡é¢˜æˆ–ä½œè€…..." />
          <Select placeholder="é€‰æ‹©åˆ†ç±»">
            <option value="llm">LLM Agents</option>
            <option value="context">Context Engineering</option>
            <option value="reasoning">Reasoning</option>
          </Select>
          <Select placeholder="çŠ¶æ€">
            <option value="all">å…¨éƒ¨</option>
            <option value="translated">å·²ç¿»è¯‘</option>
            <option value="pending">å¾…ç¿»è¯‘</option>
          </Select>
          <Button>æœç´¢</Button>
        </div>
      </div>
    </Card>
  );
}
```

### 5. WebSocket é›†æˆ

```typescript
// src/hooks/useWebSocket.ts
import { useEffect, useRef, useState } from "react";
import { useAppStore } from "@/store";

export const useWebSocket = (url: string) => {
  const wsRef = useRef<WebSocket | null>(null);
  const [isConnected, setIsConnected] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const { subscribeToTask, unsubscribeFromTask } = useAppStore();

  const connect = () => {
    try {
      const ws = new WebSocket(url);
      wsRef.current = ws;

      ws.onopen = () => {
        setIsConnected(true);
        setError(null);
        console.log("WebSocket connected");
      };

      ws.onmessage = (event) => {
        try {
          const data = JSON.parse(event.data);
          if (data.type === "task_update") {
            // æ›´æ–°ä»»åŠ¡çŠ¶æ€
            subscribeToTask(data.task_id, data);
          }
        } catch (err) {
          console.error("Failed to parse WebSocket message:", err);
        }
      };

      ws.onclose = () => {
        setIsConnected(false);
        console.log("WebSocket disconnected");
        // è‡ªåŠ¨é‡è¿
        setTimeout(connect, 3000);
      };

      ws.onerror = (event) => {
        setError("WebSocket connection error");
        console.error("WebSocket error:", event);
      };
    } catch (err) {
      setError("Failed to create WebSocket connection");
    }
  };

  const disconnect = () => {
    if (wsRef.current) {
      wsRef.current.close();
      wsRef.current = null;
    }
  };

  const subscribe = (taskId: string) => {
    if (wsRef.current && isConnected) {
      wsRef.current.send(
        JSON.stringify({
          type: "subscribe",
          task_id: taskId,
        })
      );
    }
  };

  const unsubscribe = (taskId: string) => {
    if (wsRef.current && isConnected) {
      wsRef.current.send(
        JSON.stringify({
          type: "unsubscribe",
          task_id: taskId,
        })
      );
    }
  };

  useEffect(() => {
    connect();
    return () => disconnect();
  }, [url]);

  return { isConnected, error, subscribe, unsubscribe };
};
```

### 5. ç¯å¢ƒé…ç½®

```bash
# .env.local
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws
NEXT_PUBLIC_MAX_FILE_SIZE=52428800  # 50MB
NEXT_PUBLIC_SUPPORTED_FORMATS=pdf
NEXT_PUBLIC_APP_NAME=Agentic AI è®ºæ–‡å¹³å°
NEXT_PUBLIC_APP_VERSION=1.0.0
```

## å¼€å‘è·¯çº¿å›¾ï¼ˆåŸºäºç°æœ‰åŸºç¡€è°ƒæ•´ï¼‰

### ç¬¬ä¸€é˜¶æ®µï¼šåŠŸèƒ½å¼€å‘ (2-3 å‘¨)

#### âœ… å·²å®Œæˆï¼ˆè·³è¿‡ï¼‰

- [x] é¡¹ç›®åˆå§‹åŒ–ï¼ˆNext.js 16 + NextAdmin å·²å®‰è£…ï¼‰
- [x] åŸºç¡€å¸ƒå±€å’Œä¸»é¢˜ç³»ç»Ÿ
- [x] è®¤è¯ç»„ä»¶å’Œè·¯ç”±
- [x] UI ç»„ä»¶åº“ï¼ˆ200+ ç»„ä»¶ï¼‰

#### ğŸš€ å½“å‰ä»»åŠ¡

- [ ] **æ·»åŠ ç¼ºå¤±ä¾èµ–**

  ```bash
  cd ui
  yarn add zustand axios swr react-pdf react-markdown remark-gfm
  ```

- [ ] **å®ç° API å®¢æˆ·ç«¯å±‚**

  - é…ç½® API åŸºç¡€ URL å’Œæ‹¦æˆªå™¨
  - å®ç°ä¸ FastAPI åç«¯çš„é€šä¿¡
  - æ·»åŠ é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

- [ ] **é›†æˆ Zustand çŠ¶æ€ç®¡ç†**
  - åˆ›å»ºå…¨å±€çŠ¶æ€ç»“æ„
  - å®ç°è®ºæ–‡å’Œä»»åŠ¡çŠ¶æ€åˆ‡ç‰‡
  - æ·»åŠ æŒä¹…åŒ–ä¸­é—´ä»¶

### ç¬¬äºŒé˜¶æ®µï¼šè®ºæ–‡ç®¡ç†åŠŸèƒ½ (2-3 å‘¨)

- [ ] **è®ºæ–‡åˆ—è¡¨é¡µé¢**

  - ä½¿ç”¨ NextAdmin Table ç»„ä»¶ï¼ˆå·²é›†æˆï¼‰
  - å®ç°æ’åºå’Œç­›é€‰åŠŸèƒ½
  - é›†æˆ SWR æ•°æ®è·å–
  - æ·»åŠ æ‰¹é‡æ“ä½œåŠŸèƒ½

- [ ] **ä¸Šä¼ åŠŸèƒ½**

  - æ‹–æ‹½ä¸Šä¼ ç»„ä»¶
  - æ–‡ä»¶éªŒè¯
  - ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
  - æ‰¹é‡ä¸Šä¼ æ”¯æŒ

- [ ] **è®ºæ–‡æŸ¥çœ‹å™¨**
  - PDF åµŒå…¥æ˜¾ç¤º
  - Markdown æ¸²æŸ“å™¨
  - Tab åˆ‡æ¢åŠŸèƒ½
  - å¯¼å‡ºåŠŸèƒ½

### ç¬¬ä¸‰é˜¶æ®µï¼šä»»åŠ¡ç›‘æ§ (1-2 å‘¨)

- [ ] **WebSocket é›†æˆ**

  - è¿æ¥ç®¡ç†
  - è‡ªåŠ¨é‡è¿æœºåˆ¶
  - å¿ƒè·³ä¿æ´»
  - è¿æ¥çŠ¶æ€æŒ‡ç¤º

- [ ] **ä»»åŠ¡ç›‘æ§ç•Œé¢**

  - ä»»åŠ¡åˆ—è¡¨ç»„ä»¶
  - å®æ—¶çŠ¶æ€æ›´æ–°
  - è¿›åº¦æ¡ç»„ä»¶
  - æ—¥å¿—æŸ¥çœ‹å™¨

- [ ] **ä»»åŠ¡æ“ä½œ**
  - å–æ¶ˆä»»åŠ¡åŠŸèƒ½
  - é‡è¯•å¤±è´¥ä»»åŠ¡
  - ä»»åŠ¡ä¼˜å…ˆçº§è®¾ç½®
  - æ‰¹é‡ä»»åŠ¡ç®¡ç†

### ç¬¬å››é˜¶æ®µï¼šæœç´¢ä¸ä»ªè¡¨æ¿ (2-3 å‘¨)

- [ ] **æœç´¢åŠŸèƒ½**

  - æœç´¢ç•Œé¢è®¾è®¡
  - å…¨æ–‡æœç´¢å®ç°
  - é«˜çº§ç­›é€‰å™¨
  - æœç´¢ç»“æœä¼˜åŒ–

- [ ] **ä»ªè¡¨æ¿å¼€å‘**

  - ç»Ÿè®¡å¡ç‰‡ç»„ä»¶
  - å›¾è¡¨é›†æˆï¼ˆChart.js/Rechartsï¼‰
  - æ•°æ®å¯è§†åŒ–
  - å®æ—¶æ•°æ®æ›´æ–°

- [ ] **æ€§èƒ½ä¼˜åŒ–**
  - ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
  - å›¾ç‰‡ä¼˜åŒ–
  - ç¼“å­˜ç­–ç•¥ï¼ˆSWRï¼‰
  - è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§åˆ—è¡¨ï¼‰

### ç¬¬äº”é˜¶æ®µï¼šæµ‹è¯•ä¸ä¼˜åŒ– (1-2 å‘¨)

- [ ] **æµ‹è¯•è¦†ç›–**

  - å•å…ƒæµ‹è¯•ï¼ˆJest + React Testing Libraryï¼‰
  - é›†æˆæµ‹è¯•
  - E2E æµ‹è¯•ï¼ˆPlaywrightï¼‰
  - å¯è®¿é—®æ€§æµ‹è¯•

- [ ] **æ–‡æ¡£ç¼–å†™**

  - ç»„ä»¶æ–‡æ¡£
  - API ä½¿ç”¨æŒ‡å—
  - éƒ¨ç½²æ–‡æ¡£
  - ç”¨æˆ·æ‰‹å†Œ

- [ ] **éƒ¨ç½²å‡†å¤‡**
  - Docker é…ç½®
  - ç¯å¢ƒå˜é‡ç®¡ç†
  - CI/CD æµæ°´çº¿
  - ç›‘æ§å’Œæ—¥å¿—

## å…³é”®å®ç°æ–‡ä»¶

### å·²å­˜åœ¨çš„æ ¸å¿ƒæ–‡ä»¶

1. **`src/app/layout.tsx`** - æ ¹å¸ƒå±€ï¼ˆå·²é›†æˆ NextAdmin ä¸»é¢˜ç³»ç»Ÿï¼‰
2. **`src/components/layout/`** - å¸ƒå±€ç»„ä»¶ï¼ˆä¾§è¾¹æ ã€å¤´éƒ¨ç­‰ï¼‰
3. **`src/components/ui/`** - NextAdmin åŸºç¡€ UI ç»„ä»¶åº“
4. **`src/components/Auth/`** - è®¤è¯ç›¸å…³ç»„ä»¶ï¼ˆå·²å®ç°ï¼‰
5. **`tailwind.config.js`** - Tailwind CSS é…ç½®ï¼ˆå·²ä¼˜åŒ–ï¼‰

### å¾…å®ç°çš„å…³é”®æ–‡ä»¶

1. **`src/lib/api.ts`** - API å®¢æˆ·ç«¯ï¼Œç»Ÿä¸€å¤„ç†åç«¯é€šä¿¡
2. **`src/components/papers/PaperViewer.tsx`** - æ ¸å¿ƒè®ºæ–‡å†…å®¹æŸ¥çœ‹ç»„ä»¶
3. **`src/hooks/useWebSocket.ts`** - WebSocket ç®¡ç†é’©å­ï¼Œå®ç°å®æ—¶é€šä¿¡
4. **`src/store/index.ts`** - å…¨å±€çŠ¶æ€ç®¡ç†ï¼Œä½¿ç”¨ Zustand
5. **`src/app/papers/page.tsx`** - è®ºæ–‡åˆ—è¡¨é¡µé¢
6. **`src/app/tasks/page.tsx`** - ä»»åŠ¡ç›‘æ§é¡µé¢

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. ä»£ç ä¼˜åŒ–

- **åŠ¨æ€å¯¼å…¥**: å¯¹å¤§å‹ç»„ä»¶ä½¿ç”¨ `React.lazy()`
- **Tree Shaking**: ç¡®ä¿æœªä½¿ç”¨ä»£ç è¢«ç§»é™¤
- **Bundle åˆ†æ**: ä½¿ç”¨ `@next/bundle-analyzer`

### 2. è¿è¡Œæ—¶ä¼˜åŒ–

- **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨ Next.js Image ç»„ä»¶
- **ç¼“å­˜ç­–ç•¥**: SWR ç¼“å­˜ API å“åº”
- **è™šæ‹Ÿæ»šåŠ¨**: å¤§åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–

### 3. ç”¨æˆ·ä½“éªŒ

- **åŠ è½½çŠ¶æ€**: éª¨æ¶å±å’ŒåŠ è½½æŒ‡ç¤ºå™¨
- **é”™è¯¯è¾¹ç•Œ**: ä¼˜é›…çš„é”™è¯¯å¤„ç†
- **ç¦»çº¿æ”¯æŒ**: Service Workerï¼ˆæœªæ¥æ‰©å±•ï¼‰

## æ³¨æ„äº‹é¡¹

### 1. å®‰å…¨è€ƒè™‘

- XSS é˜²æŠ¤ï¼ˆä½¿ç”¨ React å†…ç½®ä¿æŠ¤ï¼‰
- CSRF ä¿æŠ¤ï¼ˆAPI è¯·æ±‚ï¼‰
- æ–‡ä»¶ä¸Šä¼ éªŒè¯ï¼ˆç±»å‹ã€å¤§å°ï¼‰

### 2. å›½é™…åŒ–å‡†å¤‡

- ä½¿ç”¨ `next-intl` æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢
- æ—¥æœŸå’Œæ•°å­—æ ¼å¼æœ¬åœ°åŒ–
- æ–‡æœ¬å¤–éƒ¨åŒ–ç®¡ç†

### 3. æœªæ¥æ‰©å±•

- é¢„ç•™è®¤è¯æ¥å£ï¼ˆJWT/OAuthï¼‰
- è®¾è®¡æ’ä»¶ç³»ç»Ÿæ¶æ„
- PWA åŠŸèƒ½æ”¯æŒ
- ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–

## ç›¸å…³èµ„æº

### å®˜æ–¹æ–‡æ¡£

- **[Next.js 16 å®˜æ–¹æ–‡æ¡£](https://nextjs.org/docs)** - App Routerã€Server Componentsã€é…ç½®æŒ‡å—
- **[NextAdmin å®˜æ–¹æ–‡æ¡£](https://nextadmin.co/docs)** - ç»„ä»¶åº“ä½¿ç”¨ã€ä¸»é¢˜å®šåˆ¶ã€æœ€ä½³å®è·µ
- **[Zustand çŠ¶æ€ç®¡ç†](https://github.com/pmndrs/zustand)** - çŠ¶æ€ç®¡ç†ã€ä¸­é—´ä»¶ã€TypeScript æ”¯æŒ
- **[SWR æ•°æ®è·å–](https://swr.vercel.app)** - æ•°æ®è·å–ã€ç¼“å­˜ã€é”™è¯¯å¤„ç†
- **[Tailwind CSS](https://tailwindcss.com/docs)** - æ ·å¼ç³»ç»Ÿã€å“åº”å¼è®¾è®¡ã€è‡ªå®šä¹‰é…ç½®

### é¢å¤–èµ„æº

- **[React 19 æ–‡æ¡£](https://react.dev/)** - æœ€æ–°ç‰¹æ€§å’Œæœ€ä½³å®è·µ
- **[ApexCharts](https://apexcharts.com/docs/)** - å›¾è¡¨é…ç½®å’Œè‡ªå®šä¹‰ï¼ˆå·²é›†æˆï¼‰
- **[TypeScript](https://www.typescriptlang.org/docs/)** - ç±»å‹ç³»ç»Ÿå’Œé…ç½®

### å®ç°å‚è€ƒ

æœ¬æ–¹æ¡ˆä¸¥æ ¼éµå¾ªå®˜æ–¹æ–‡æ¡£å’Œæœ€ä½³å®è·µï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ã€‚æ‰€æœ‰ç¤ºä¾‹ä»£ç åŸºäºå®˜æ–¹ API ç¼–å†™ã€‚
