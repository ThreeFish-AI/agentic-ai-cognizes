# ğŸ–¥ï¸ Web UI å·¥ç¨‹æ–¹æ¡ˆ

## æ¦‚è¿°

åŸºäºç°æœ‰çš„ Agentic AI è®ºæ–‡å¹³å°åç«¯æ¶æ„ï¼Œè®¾è®¡å¹¶å®ç°ä¸€ä¸ªç°ä»£åŒ–çš„ Web UIï¼Œä¸ºä¸­æ–‡ç ”ç©¶è€…æä¾›ä¼˜é›…çš„è®ºæ–‡æ”¶é›†ã€ç¿»è¯‘å’Œåˆ†æç•Œé¢ã€‚æœ¬æ–¹æ¡ˆé‡‡ç”¨æœ€æ–°çš„ Next.js 15 æ¡†æ¶å’Œ NextAdmin ç»„ä»¶åº“ï¼Œç¡®ä¿å“è¶Šçš„ç”¨æˆ·ä½“éªŒå’Œå¼€å‘æ•ˆç‡ã€‚

## æŠ€æœ¯é€‰å‹

### å‰ç«¯æ¡†æ¶

- **Next.js 16.0+**
  - âœ… App Router (å·²ç¨³å®šï¼Œç”Ÿäº§å°±ç»ª)
  - âœ… Turbopack (é»˜è®¤æ„å»ºå·¥å…·ï¼Œæ˜¾è‘—æå‡æ„å»ºé€Ÿåº¦)
  - âœ… Server Components (ä¼˜åŒ–æœåŠ¡ç«¯æ¸²æŸ“)
  - âœ… Partial Prerendering (PPRï¼Œä¼˜åŒ–å¯¼èˆªä½“éªŒ)

### UI ç»„ä»¶åº“

- **NextAdmin** (ä¸“ä¸º Next.js è®¾è®¡çš„ç®¡ç†åå°æ¨¡æ¿)
  - âœ… å®Œæ•´çš„ TypeScript æ”¯æŒ
  - âœ… æ·±è‰²/æµ…è‰²ä¸»é¢˜åˆ‡æ¢
  - âœ… å“åº”å¼è®¾è®¡
  - âœ… é¢„æ„å»ºçš„ç®¡ç†ç»„ä»¶

### æ ¸å¿ƒä¾èµ–

```json
{
  "dependencies": {
    "next": "^16.0.10",
    "react": "^18.0.0",
    "react-dom": "^18.0.0",
    "nextadmin": "^2.0.0",
    "@nextadmin/utils": "^2.0.0",
    "zustand": "^4.4.0",
    "axios": "^1.6.0",
    "swr": "^2.2.0",
    "react-pdf": "^7.5.0",
    "react-markdown": "^9.0.0",
    "remark-gfm": "^4.0.0",
    "react-syntax-highlighter": "^15.5.0",
    "date-fns": "^2.30.0",
    "tailwindcss": "^3.3.0",
    "clsx": "^2.0.0"
  },
  "devDependencies": {
    "@types/node": "^20.0.0",
    "@types/react": "^18.0.0",
    "@types/react-dom": "^18.0.0",
    "typescript": "^5.0.0",
    "eslint": "^8.0.0",
    "prettier": "^3.0.0"
  }
}
```

## é¡¹ç›®ç»“æ„

```
ui/
â”œâ”€â”€ next.config.js           # Next.js é…ç½®
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ .env.local.example
â”œâ”€â”€ .env.local
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                  # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”œâ”€â”€ layout.tsx       # æ ¹å¸ƒå±€ï¼Œé›†æˆ NextAdmin
â”‚   â”‚   â”œâ”€â”€ page.tsx         # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ papers/          # è®ºæ–‡ç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx     # è®ºæ–‡åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/        # åŠ¨æ€è·¯ç”±ï¼šè®ºæ–‡è¯¦æƒ…
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚   â”‚   â””â”€â”€ upload/      # ä¸Šä¼ é¡µé¢
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ tasks/           # ä»»åŠ¡ç›‘æ§
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx     # ä»»åŠ¡åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ [id]/        # ä»»åŠ¡è¯¦æƒ…
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ search/          # æœç´¢åŠŸèƒ½
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ api/             # Next.js API ä»£ç†
â”‚   â”‚       â””â”€â”€ papers/
â”‚   â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/             # NextAdmin åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/         # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AppLayout.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Navigation.tsx
â”‚   â”‚   â”œâ”€â”€ papers/         # è®ºæ–‡ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ PaperCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PaperList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PaperViewer.tsx
â”‚   â”‚   â”‚   â””â”€â”€ UploadZone.tsx
â”‚   â”‚   â”œâ”€â”€ tasks/          # ä»»åŠ¡ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ TaskCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TaskList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TaskProgress.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TaskLogs.tsx
â”‚   â”‚   â””â”€â”€ common/         # é€šç”¨ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ LoadingSpinner.tsx
â”‚   â”‚       â”œâ”€â”€ ErrorBoundary.tsx
â”‚   â”‚       â”œâ”€â”€ EmptyState.tsx
â”‚   â”‚       â””â”€â”€ ConfirmModal.tsx
â”‚   â”œâ”€â”€ lib/                # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ api.ts          # API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ websocket.ts    # WebSocket å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯å·¥å…·ï¼ˆé¢„ç•™ï¼‰
â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useApi.ts
â”‚   â”‚   â”œâ”€â”€ useWebSocket.ts
â”‚   â”‚   â””â”€â”€ useLocalStorage.ts
â”‚   â”œâ”€â”€ store/              # çŠ¶æ€ç®¡ç† (Zustand)
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ slices/
â”‚   â”‚   â”‚   â”œâ”€â”€ papersSlice.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ tasksSlice.ts
â”‚   â”‚   â”‚   â””â”€â”€ uiSlice.ts
â”‚   â”‚   â””â”€â”€ middleware/
â”‚   â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ api.ts
â”‚   â”‚   â”œâ”€â”€ paper.ts
â”‚   â”‚   â””â”€â”€ task.ts
â”‚   â””â”€â”€ styles/             # é¢å¤–æ ·å¼
â”‚       â””â”€â”€ components.css
â””â”€â”€ public/                 # é™æ€èµ„æº
    â”œâ”€â”€ icons/
    â””â”€â”€ images/
```

## æ ¸å¿ƒåŠŸèƒ½è®¾è®¡

### 1. è®ºæ–‡ç®¡ç† ğŸ“„

- **ä¸Šä¼ ç•Œé¢**

  - æ‹–æ‹½ä¸Šä¼ æ”¯æŒ
  - 50MB PDF æ–‡ä»¶é™åˆ¶
  - å®æ—¶ä¸Šä¼ è¿›åº¦
  - æ‰¹é‡ä¸Šä¼ åŠŸèƒ½

- **åˆ—è¡¨è§†å›¾**

  - è¡¨æ ¼å±•ç¤ºæ‰€æœ‰è®ºæ–‡
  - æ”¯æŒæ’åºï¼ˆæ ‡é¢˜ã€æ—¥æœŸã€çŠ¶æ€ï¼‰
  - é«˜çº§ç­›é€‰ï¼ˆåˆ†ç±»ã€çŠ¶æ€ã€æ—¥æœŸèŒƒå›´ï¼‰
  - åˆ†é¡µåŠ è½½ä¼˜åŒ–

- **è¯¦æƒ…è§†å›¾**

  - Tab åˆ‡æ¢ï¼šåŸæ–‡ / ç¿»è¯‘ / åˆ†æ
  - Markdown æ¸²æŸ“å™¨
  - PDF åµŒå…¥æŸ¥çœ‹
  - å¯¼å‡ºåŠŸèƒ½ï¼ˆPDF/Markdownï¼‰

- **æ‰¹é‡æ“ä½œ**
  - å¤šé€‰å¤„ç†
  - æ‰¹é‡ç¿»è¯‘/åˆ†æ
  - æ‰¹é‡ä¸‹è½½
  - æ‰¹é‡åˆ é™¤

### 2. ä»»åŠ¡ç›‘æ§ âš¡

- **å®æ—¶çŠ¶æ€**

  - WebSocket è¿æ¥ç®¡ç†
  - ä»»åŠ¡çŠ¶æ€å®æ—¶æ›´æ–°
  - è¿›åº¦æ¡å±•ç¤º
  - è‡ªåŠ¨é‡è¿æœºåˆ¶

- **ä»»åŠ¡ç®¡ç†**

  - ä»»åŠ¡åˆ—è¡¨æŸ¥çœ‹
  - å–æ¶ˆ/é‡è¯•åŠŸèƒ½
  - è¯¦ç»†æ—¥å¿—æŸ¥çœ‹
  - é”™è¯¯ä¿¡æ¯å±•ç¤º

- **æ‰¹é‡ä»»åŠ¡**
  - å¹¶å‘ä»»åŠ¡é˜Ÿåˆ—
  - æ•´ä½“è¿›åº¦å±•ç¤º
  - ä»»åŠ¡ä¼˜å…ˆçº§ç®¡ç†
  - èµ„æºä½¿ç”¨ç›‘æ§

### 3. æœç´¢å‘ç° ğŸ”

- **é«˜çº§æœç´¢**

  - å…¨æ–‡æœç´¢ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€æ‘˜è¦ã€å…³é”®è¯ï¼‰
  - æ¨¡ç³ŠåŒ¹é…
  - æœç´¢å»ºè®®
  - æœç´¢å†å²

- **æ™ºèƒ½ç­›é€‰**

  - æŒ‰åˆ†ç±»ç­›é€‰ï¼ˆLLM Agentsã€Context Engineering ç­‰ï¼‰
  - æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå·²ç¿»è¯‘ã€å¤„ç†ä¸­ã€å¾…å¤„ç†ï¼‰
  - æŒ‰æ—¥æœŸèŒƒå›´ç­›é€‰
  - ä¿å­˜ç­›é€‰æ¡ä»¶

- **ç»“æœå±•ç¤º**
  - å…³é”®è¯é«˜äº®
  - æ‘˜è¦é¢„è§ˆ
  - ç›¸å…³åº¦æ’åº
  - æœç´¢ç»“æœå¯¼å‡º

### 4. ä»ªè¡¨æ¿ ğŸ“Š

- **æ•°æ®ç»Ÿè®¡**

  - è®ºæ–‡æ€»æ•°å’Œåˆ†ç±»åˆ†å¸ƒ
  - ç¿»è¯‘è¿›åº¦ç»Ÿè®¡
  - ä»»åŠ¡çŠ¶æ€æ¦‚è§ˆ
  - ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡

- **æœ€è¿‘æ´»åŠ¨**

  - æœ€æ–°ä¸Šä¼ çš„è®ºæ–‡
  - æ­£åœ¨å¤„ç†çš„ä»»åŠ¡
  - ç³»ç»Ÿé€šçŸ¥
  - æ“ä½œå†å²

- **å¿«é€Ÿæ“ä½œ**
  - å¿«é€Ÿä¸Šä¼ å…¥å£
  - å¸¸ç”¨åŠŸèƒ½å¿«æ·é”®
  - æ‰¹é‡æ“ä½œé¢æ¿
  - ç³»ç»Ÿè®¾ç½®

## æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 1. API é›†æˆ

```javascript
// next.config.js
/** @type {import('next').NextConfig} */
const nextConfig = {
  async rewrites() {
    return [
      {
        source: "/api/:path*",
        destination: "http://localhost:8000/api/:path*",
      },
      {
        source: "/ws/:path*",
        destination: "http://localhost:8000/ws/:path*",
      },
    ];
  },
  images: {
    domains: ["localhost"],
  },
};

module.exports = nextConfig;
```

### 2. API å®¢æˆ·ç«¯è®¾è®¡

```typescript
// src/lib/api.ts
import axios from "axios";

const apiClient = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL || "http://localhost:8000",
  timeout: 30000,
});

// è¯·æ±‚æ‹¦æˆªå™¨
apiClient.interceptors.request.use(
  (config) => {
    // æ·»åŠ è®¤è¯å¤´ï¼ˆé¢„ç•™ï¼‰
    // config.headers.Authorization = `Bearer ${token}`
    return config;
  },
  (error) => Promise.reject(error)
);

// å“åº”æ‹¦æˆªå™¨
apiClient.interceptors.response.use(
  (response) => response.data,
  (error) => {
    // ç»Ÿä¸€é”™è¯¯å¤„ç†
    const message = error.response?.data?.detail || error.message;
    return Promise.reject(new Error(message));
  }
);

export const api = {
  // è®ºæ–‡ç›¸å…³
  papers: {
    list: (params?: any) => apiClient.get("/api/papers", { params }),
    get: (id: string) => apiClient.get(`/api/papers/${id}`),
    upload: (formData: FormData) =>
      apiClient.post("/api/papers", formData, {
        headers: { "Content-Type": "multipart/form-data" },
      }),
    process: (id: string, workflow: string, options?: any) =>
      apiClient.post(`/api/papers/${id}/process`, { workflow, options }),
    delete: (id: string) => apiClient.delete(`/api/papers/${id}`),
  },

  // ä»»åŠ¡ç›¸å…³
  tasks: {
    list: (params?: any) => apiClient.get("/api/tasks", { params }),
    get: (id: string) => apiClient.get(`/api/tasks/${id}`),
    cancel: (id: string) => apiClient.post(`/api/tasks/${id}/cancel`),
    logs: (id: string) => apiClient.get(`/api/tasks/${id}/logs`),
  },
};
```

### 3. çŠ¶æ€ç®¡ç† (Zustand)

```typescript
// src/store/index.ts
import { create } from "zustand";
import { devtools } from "zustand/middleware";

interface AppState {
  // è®ºæ–‡çŠ¶æ€
  papers: Paper[];
  currentPaper: Paper | null;
  papersLoading: boolean;
  papersError: string | null;

  // ä»»åŠ¡çŠ¶æ€
  tasks: Task[];
  currentTask: Task | null;
  taskUpdates: Map<string, TaskUpdate>;

  // UI çŠ¶æ€
  sidebarOpen: boolean;
  theme: "light" | "dark";
  notifications: Notification[];

  // Actions
  fetchPapers: () => Promise<void>;
  uploadPaper: (file: File) => Promise<string>;
  processPaper: (id: string, workflow: string) => Promise<void>;
  subscribeToTask: (taskId: string) => void;
  unsubscribeFromTask: (taskId: string) => void;
}

export const useAppStore = create<AppState>()(
  devtools((set, get) => ({
    // Initial state
    papers: [],
    currentPaper: null,
    papersLoading: false,
    papersError: null,

    tasks: [],
    currentTask: null,
    taskUpdates: new Map(),

    sidebarOpen: true,
    theme: "light",
    notifications: [],

    // Actions
    fetchPapers: async () => {
      set({ papersLoading: true, papersError: null });
      try {
        const papers = await api.papers.list();
        set({ papers, papersLoading: false });
      } catch (error) {
        set({ papersError: error.message, papersLoading: false });
      }
    },

    uploadPaper: async (file: File) => {
      const formData = new FormData();
      formData.append("file", file);
      const response = await api.papers.upload(formData);
      return response.task_id;
    },

    processPaper: async (id: string, workflow: string) => {
      const task = await api.papers.process(id, workflow);
      set((state) => ({
        tasks: [task, ...state.tasks],
      }));
      return task;
    },

    subscribeToTask: (taskId: string) => {
      // WebSocket è®¢é˜…é€»è¾‘
    },

    unsubscribeFromTask: (taskId: string) => {
      // WebSocket å–æ¶ˆè®¢é˜…
    },
  }))
);
```

### 4. WebSocket é›†æˆ

```typescript
// src/hooks/useWebSocket.ts
import { useEffect, useRef, useState } from "react";
import { useAppStore } from "@/store";

export const useWebSocket = (url: string) => {
  const wsRef = useRef<WebSocket | null>(null);
  const [isConnected, setIsConnected] = useState(false);
  const [error, setError] = useState<string | null>(null);
  const { subscribeToTask, unsubscribeFromTask } = useAppStore();

  const connect = () => {
    try {
      const ws = new WebSocket(url);
      wsRef.current = ws;

      ws.onopen = () => {
        setIsConnected(true);
        setError(null);
        console.log("WebSocket connected");
      };

      ws.onmessage = (event) => {
        try {
          const data = JSON.parse(event.data);
          if (data.type === "task_update") {
            // æ›´æ–°ä»»åŠ¡çŠ¶æ€
            subscribeToTask(data.task_id, data);
          }
        } catch (err) {
          console.error("Failed to parse WebSocket message:", err);
        }
      };

      ws.onclose = () => {
        setIsConnected(false);
        console.log("WebSocket disconnected");
        // è‡ªåŠ¨é‡è¿
        setTimeout(connect, 3000);
      };

      ws.onerror = (event) => {
        setError("WebSocket connection error");
        console.error("WebSocket error:", event);
      };
    } catch (err) {
      setError("Failed to create WebSocket connection");
    }
  };

  const disconnect = () => {
    if (wsRef.current) {
      wsRef.current.close();
      wsRef.current = null;
    }
  };

  const subscribe = (taskId: string) => {
    if (wsRef.current && isConnected) {
      wsRef.current.send(
        JSON.stringify({
          type: "subscribe",
          task_id: taskId,
        })
      );
    }
  };

  const unsubscribe = (taskId: string) => {
    if (wsRef.current && isConnected) {
      wsRef.current.send(
        JSON.stringify({
          type: "unsubscribe",
          task_id: taskId,
        })
      );
    }
  };

  useEffect(() => {
    connect();
    return () => disconnect();
  }, [url]);

  return { isConnected, error, subscribe, unsubscribe };
};
```

### 5. ç¯å¢ƒé…ç½®

```bash
# .env.local
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws
NEXT_PUBLIC_MAX_FILE_SIZE=52428800  # 50MB
NEXT_PUBLIC_SUPPORTED_FORMATS=pdf
NEXT_PUBLIC_APP_NAME=Agentic AI è®ºæ–‡å¹³å°
NEXT_PUBLIC_APP_VERSION=1.0.0
```

## å¼€å‘è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€è®¾æ–½ (1-2 å‘¨)

- [ ] **é¡¹ç›®åˆå§‹åŒ–**

  ```bash
  npx create-next-app@latest web-ui --typescript --tailwind --app
  cd web-ui
  npm install nextadmin zustand axios swr react-pdf react-markdown
  ```

- [ ] **é…ç½®å¼€å‘ç¯å¢ƒ**

  - é…ç½® ESLint å’Œ Prettier
  - è®¾ç½® Git hooks
  - é…ç½® VS Code å·¥ä½œåŒº

- [ ] **åˆ›å»ºåŸºç¡€å¸ƒå±€**
  - å®ç°æ ¹å¸ƒå±€ï¼ˆlayout.tsxï¼‰
  - é›†æˆ NextAdmin ä¸»é¢˜
  - åˆ›å»ºå¯¼èˆªå’Œä¾§è¾¹æ 
  - å“åº”å¼è®¾è®¡é€‚é…

### ç¬¬äºŒé˜¶æ®µï¼šè®ºæ–‡ç®¡ç† (3-4 å‘¨)

- [ ] **API é›†æˆå±‚**

  - å®ç° API å®¢æˆ·ç«¯
  - é”™è¯¯å¤„ç†æœºåˆ¶
  - è¯·æ±‚/å“åº”æ‹¦æˆªå™¨
  - Mock æ•°æ®ï¼ˆå¼€å‘é˜¶æ®µï¼‰

- [ ] **è®ºæ–‡åˆ—è¡¨é¡µé¢**

  - è¡¨æ ¼ç»„ä»¶å¼€å‘
  - æ’åºå’Œç­›é€‰åŠŸèƒ½
  - åˆ†é¡µåŠ è½½
  - çŠ¶æ€æŒ‡ç¤ºå™¨

- [ ] **ä¸Šä¼ åŠŸèƒ½**

  - æ‹–æ‹½ä¸Šä¼ ç»„ä»¶
  - æ–‡ä»¶éªŒè¯
  - ä¸Šä¼ è¿›åº¦æ˜¾ç¤º
  - æ‰¹é‡ä¸Šä¼ æ”¯æŒ

- [ ] **è®ºæ–‡æŸ¥çœ‹å™¨**
  - PDF åµŒå…¥æ˜¾ç¤º
  - Markdown æ¸²æŸ“å™¨
  - Tab åˆ‡æ¢åŠŸèƒ½
  - å¯¼å‡ºåŠŸèƒ½

### ç¬¬ä¸‰é˜¶æ®µï¼šä»»åŠ¡ç³»ç»Ÿ (5-6 å‘¨)

- [ ] **WebSocket é›†æˆ**

  - è¿æ¥ç®¡ç†
  - è‡ªåŠ¨é‡è¿æœºåˆ¶
  - å¿ƒè·³ä¿æ´»
  - è¿æ¥çŠ¶æ€æŒ‡ç¤º

- [ ] **ä»»åŠ¡ç›‘æ§ç•Œé¢**

  - ä»»åŠ¡åˆ—è¡¨ç»„ä»¶
  - å®æ—¶çŠ¶æ€æ›´æ–°
  - è¿›åº¦æ¡ç»„ä»¶
  - æ—¥å¿—æŸ¥çœ‹å™¨

- [ ] **ä»»åŠ¡æ“ä½œ**
  - å–æ¶ˆä»»åŠ¡åŠŸèƒ½
  - é‡è¯•å¤±è´¥ä»»åŠ¡
  - ä»»åŠ¡ä¼˜å…ˆçº§è®¾ç½®
  - æ‰¹é‡ä»»åŠ¡ç®¡ç†

### ç¬¬å››é˜¶æ®µï¼šé«˜çº§åŠŸèƒ½ (7-8 å‘¨)

- [ ] **æœç´¢åŠŸèƒ½**

  - æœç´¢ç•Œé¢è®¾è®¡
  - å…¨æ–‡æœç´¢å®ç°
  - é«˜çº§ç­›é€‰å™¨
  - æœç´¢ç»“æœä¼˜åŒ–

- [ ] **ä»ªè¡¨æ¿å¼€å‘**

  - ç»Ÿè®¡å¡ç‰‡ç»„ä»¶
  - å›¾è¡¨é›†æˆï¼ˆChart.js/Rechartsï¼‰
  - æ•°æ®å¯è§†åŒ–
  - å®æ—¶æ•°æ®æ›´æ–°

- [ ] **æ€§èƒ½ä¼˜åŒ–**
  - ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
  - å›¾ç‰‡ä¼˜åŒ–
  - ç¼“å­˜ç­–ç•¥ï¼ˆSWRï¼‰
  - è™šæ‹Ÿæ»šåŠ¨ï¼ˆå¤§åˆ—è¡¨ï¼‰

### ç¬¬äº”é˜¶æ®µï¼šæµ‹è¯•ä¸éƒ¨ç½² (9-10 å‘¨)

- [ ] **æµ‹è¯•è¦†ç›–**

  - å•å…ƒæµ‹è¯•ï¼ˆJest + React Testing Libraryï¼‰
  - é›†æˆæµ‹è¯•
  - E2E æµ‹è¯•ï¼ˆPlaywrightï¼‰
  - å¯è®¿é—®æ€§æµ‹è¯•

- [ ] **æ–‡æ¡£ç¼–å†™**

  - ç»„ä»¶æ–‡æ¡£
  - API ä½¿ç”¨æŒ‡å—
  - éƒ¨ç½²æ–‡æ¡£
  - ç”¨æˆ·æ‰‹å†Œ

- [ ] **éƒ¨ç½²å‡†å¤‡**
  - Docker é…ç½®
  - ç¯å¢ƒå˜é‡ç®¡ç†
  - CI/CD æµæ°´çº¿
  - ç›‘æ§å’Œæ—¥å¿—

## å…³é”®å®ç°æ–‡ä»¶

1. **`src/app/layout.tsx`** - æ ¹å¸ƒå±€ï¼Œé›†æˆ NextAdmin ä¸»é¢˜ç³»ç»Ÿ
2. **`src/lib/api.ts`** - API å®¢æˆ·ç«¯ï¼Œç»Ÿä¸€å¤„ç†åç«¯é€šä¿¡
3. **`src/components/papers/PaperViewer.tsx`** - æ ¸å¿ƒè®ºæ–‡å†…å®¹æŸ¥çœ‹ç»„ä»¶
4. **`src/hooks/useWebSocket.ts`** - WebSocket ç®¡ç†é’©å­ï¼Œå®ç°å®æ—¶é€šä¿¡
5. **`src/store/index.ts`** - å…¨å±€çŠ¶æ€ç®¡ç†ï¼Œä½¿ç”¨ Zustand

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. ä»£ç ä¼˜åŒ–

- **åŠ¨æ€å¯¼å…¥**: å¯¹å¤§å‹ç»„ä»¶ä½¿ç”¨ `React.lazy()`
- **Tree Shaking**: ç¡®ä¿æœªä½¿ç”¨ä»£ç è¢«ç§»é™¤
- **Bundle åˆ†æ**: ä½¿ç”¨ `@next/bundle-analyzer`

### 2. è¿è¡Œæ—¶ä¼˜åŒ–

- **å›¾ç‰‡ä¼˜åŒ–**: ä½¿ç”¨ Next.js Image ç»„ä»¶
- **ç¼“å­˜ç­–ç•¥**: SWR ç¼“å­˜ API å“åº”
- **è™šæ‹Ÿæ»šåŠ¨**: å¤§åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–

### 3. ç”¨æˆ·ä½“éªŒ

- **åŠ è½½çŠ¶æ€**: éª¨æ¶å±å’ŒåŠ è½½æŒ‡ç¤ºå™¨
- **é”™è¯¯è¾¹ç•Œ**: ä¼˜é›…çš„é”™è¯¯å¤„ç†
- **ç¦»çº¿æ”¯æŒ**: Service Workerï¼ˆæœªæ¥æ‰©å±•ï¼‰

## æ³¨æ„äº‹é¡¹

### 1. å®‰å…¨è€ƒè™‘

- XSS é˜²æŠ¤ï¼ˆä½¿ç”¨ React å†…ç½®ä¿æŠ¤ï¼‰
- CSRF ä¿æŠ¤ï¼ˆAPI è¯·æ±‚ï¼‰
- æ–‡ä»¶ä¸Šä¼ éªŒè¯ï¼ˆç±»å‹ã€å¤§å°ï¼‰

### 2. å›½é™…åŒ–å‡†å¤‡

- ä½¿ç”¨ `next-intl` æ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢
- æ—¥æœŸå’Œæ•°å­—æ ¼å¼æœ¬åœ°åŒ–
- æ–‡æœ¬å¤–éƒ¨åŒ–ç®¡ç†

### 3. æœªæ¥æ‰©å±•

- é¢„ç•™è®¤è¯æ¥å£ï¼ˆJWT/OAuthï¼‰
- è®¾è®¡æ’ä»¶ç³»ç»Ÿæ¶æ„
- PWA åŠŸèƒ½æ”¯æŒ
- ç§»åŠ¨ç«¯é€‚é…ä¼˜åŒ–

## ç›¸å…³èµ„æº

- [Next.js å®˜æ–¹æ–‡æ¡£](https://nextjs.org/docs)
- [NextAdmin å®˜æ–¹æ–‡æ¡£](https://nextadmin.co/docs)
- [Zustand çŠ¶æ€ç®¡ç†](https://github.com/pmndrs/zustand)
- [SWR æ•°æ®è·å–](https://swr.vercel.app)
- [Tailwind CSS](https://tailwindcss.com/docs)
